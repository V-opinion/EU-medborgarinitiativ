"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[683],{82345:function(e,t,n){let i;n.d(t,{r:function(){return st}});var r,o,a,s,l,d,u,c,p,g,A,I,E,h,f,O,S,T,m,N,_,v,x,y,M,R,P,b,L,C=n(67294),w=n(46829),j=n(32497),D=n(34725),B=n(5883),G=n(11165),Q=n(85893),U=n(22873),k=n(84180),W=n(25528),z=n(18194),F=n(42381),X=n(28699),K=n(15015),H=n(73475),Y=n(90698),q=n(57710),Z=n(76431),V=n(95350),$=n(53825),J=n(27350),ee=n(49459),et=n(389),en=n(50199),ei=n(36398),er=n(46312),eo=n(47044),ea=n(5844),es=n.n(ea);function el(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}var ed="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},eu=function(e){return e&&e.Math===Math&&e},ec=eu("object"==typeof globalThis&&globalThis)||eu("object"==typeof window&&window)||eu("object"==typeof self&&self)||eu("object"==typeof ed&&ed)||eu("object"==typeof ed&&ed)||function(){return this}()||Function("return this")(),ep={},eg=function(e){try{return!!e()}catch(e){return!0}},eA=!eg(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}),eI=!eg(function(){var e=(function(){}).bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}),eE=Function.prototype.call,eh=eI?eE.bind(eE):function(){return eE.apply(eE,arguments)},ef={},eO={}.propertyIsEnumerable,eS=Object.getOwnPropertyDescriptor,eT=eS&&!eO.call({1:2},1);ef.f=eT?function(e){var t=eS(this,e);return!!t&&t.enumerable}:eO;var em=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},eN=Function.prototype,e_=eN.call,ev=eI&&eN.bind.bind(e_,e_),ex=eI?ev:function(e){return function(){return e_.apply(e,arguments)}},ey=ex({}.toString),eM=ex("".slice),eR=function(e){return eM(ey(e),8,-1)},eP=Object,eb=ex("".split),eL=eg(function(){return!eP("z").propertyIsEnumerable(0)})?function(e){return"String"===eR(e)?eb(e,""):eP(e)}:eP,eC=function(e){return null==e},ew=TypeError,ej=function(e){if(eC(e))throw new ew("Can't call method on "+e);return e},eD=function(e){return eL(ej(e))},eB="object"==typeof document&&document.all,eG=void 0===eB&&void 0!==eB?function(e){return"function"==typeof e||e===eB}:function(e){return"function"==typeof e},eQ=function(e){return"object"==typeof e?null!==e:eG(e)},eU=function(e,t){var n;return arguments.length<2?eG(n=ec[e])?n:void 0:ec[e]&&ec[e][t]},ek=ex({}.isPrototypeOf),eW="undefined"!=typeof navigator&&String(navigator.userAgent)||"",ez=ec.process,eF=ec.Deno,eX=ez&&ez.versions||eF&&eF.version,eK=eX&&eX.v8;eK&&(v=(_=eK.split("."))[0]>0&&_[0]<4?1:+(_[0]+_[1])),!v&&eW&&(!(_=eW.match(/Edge\/(\d+)/))||_[1]>=74)&&(_=eW.match(/Chrome\/(\d+)/))&&(v=+_[1]);var eH=v,eY=ec.String,eq=!!Object.getOwnPropertySymbols&&!eg(function(){var e=Symbol("symbol detection");return!eY(e)||!(Object(e) instanceof Symbol)||!Symbol.sham&&eH&&eH<41}),eZ=eq&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,eV=Object,e$=eZ?function(e){return"symbol"==typeof e}:function(e){var t=eU("Symbol");return eG(t)&&ek(t.prototype,eV(e))},eJ=String,e0=function(e){try{return eJ(e)}catch(e){return"Object"}},e1=TypeError,e2=function(e){if(eG(e))return e;throw new e1(e0(e)+" is not a function")},e5=function(e,t){var n=e[t];return eC(n)?void 0:e2(n)},e4=TypeError,e3={exports:{}},e8=Object.defineProperty,e7=function(e,t){try{e8(ec,e,{value:t,configurable:!0,writable:!0})}catch(n){ec[e]=t}return t},e6="__core-js_shared__",e9=e3.exports=ec[e6]||e7(e6,{});(e9.versions||(e9.versions=[])).push({version:"3.36.0",mode:"global",copyright:"\xa9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.36.0/LICENSE",source:"https://github.com/zloirock/core-js"});var te=e3.exports,tt=function(e,t){return te[e]||(te[e]=t||{})},tn=Object,ti=function(e){return tn(ej(e))},tr=ex({}.hasOwnProperty),to=Object.hasOwn||function(e,t){return tr(ti(e),t)},ta=0,ts=Math.random(),tl=ex(1..toString),td=function(e){return"Symbol("+(void 0===e?"":e)+")_"+tl(++ta+ts,36)},tu=ec.Symbol,tc=tt("wks"),tp=eZ?tu.for||tu:tu&&tu.withoutSetter||td,tg=function(e){return to(tc,e)||(tc[e]=eq&&to(tu,e)?tu[e]:tp("Symbol."+e)),tc[e]},tA=function(e,t){var n,i;if("string"===t&&eG(n=e.toString)&&!eQ(i=eh(n,e))||eG(n=e.valueOf)&&!eQ(i=eh(n,e))||"string"!==t&&eG(n=e.toString)&&!eQ(i=eh(n,e)))return i;throw new e4("Can't convert object to primitive value")},tI=TypeError,tE=tg("toPrimitive"),th=function(e,t){if(!eQ(e)||e$(e))return e;var n,i=e5(e,tE);if(i){if(void 0===t&&(t="default"),!eQ(n=eh(i,e,t))||e$(n))return n;throw new tI("Can't convert object to primitive value")}return void 0===t&&(t="number"),tA(e,t)},tf=function(e){var t=th(e,"string");return e$(t)?t:t+""},tO=ec.document,tS=eQ(tO)&&eQ(tO.createElement),tT=function(e){return tS?tO.createElement(e):{}},tm=!eA&&!eg(function(){return 7!==Object.defineProperty(tT("div"),"a",{get:function(){return 7}}).a}),tN=Object.getOwnPropertyDescriptor;ep.f=eA?tN:function(e,t){if(e=eD(e),t=tf(t),tm)try{return tN(e,t)}catch(e){}if(to(e,t))return em(!eh(ef.f,e,t),e[t])};var t_={},tv=eA&&eg(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),tx=String,ty=TypeError,tM=function(e){if(eQ(e))return e;throw new ty(tx(e)+" is not an object")},tR=TypeError,tP=Object.defineProperty,tb=Object.getOwnPropertyDescriptor,tL="enumerable",tC="configurable",tw="writable";t_.f=eA?tv?function(e,t,n){if(tM(e),t=tf(t),tM(n),"function"==typeof e&&"prototype"===t&&"value"in n&&tw in n&&!n[tw]){var i=tb(e,t);i&&i[tw]&&(e[t]=n.value,n={configurable:tC in n?n[tC]:i[tC],enumerable:tL in n?n[tL]:i[tL],writable:!1})}return tP(e,t,n)}:tP:function(e,t,n){if(tM(e),t=tf(t),tM(n),tm)try{return tP(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new tR("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var tj=eA?function(e,t,n){return t_.f(e,t,em(1,n))}:function(e,t,n){return e[t]=n,e},tD={exports:{}},tB=Function.prototype,tG=eA&&Object.getOwnPropertyDescriptor,tQ=to(tB,"name"),tU=tQ&&(!eA||eA&&tG(tB,"name").configurable),tk={PROPER:tQ&&"something"===(function(){}).name,CONFIGURABLE:tU},tW=e3.exports,tz=ex(Function.toString);eG(tW.inspectSource)||(tW.inspectSource=function(e){return tz(e)});var tF=tW.inspectSource,tX=ec.WeakMap,tK=eG(tX)&&/native code/.test(String(tX)),tH=tt("keys"),tY=function(e){return tH[e]||(tH[e]=td(e))},tq={},tZ=e3.exports,tV="Object already initialized",t$=ec.TypeError,tJ=ec.WeakMap;if(tK||tZ.state){var t0=tZ.state||(tZ.state=new tJ);t0.get=t0.get,t0.has=t0.has,t0.set=t0.set,x=function(e,t){if(t0.has(e))throw new t$(tV);return t.facade=e,t0.set(e,t),t},y=function(e){return t0.get(e)||{}},M=function(e){return t0.has(e)}}else{var t1=tY("state");tq[t1]=!0,x=function(e,t){if(to(e,t1))throw new t$(tV);return t.facade=e,tj(e,t1,t),t},y=function(e){return to(e,t1)?e[t1]:{}},M=function(e){return to(e,t1)}}var t2={set:x,get:y,has:M,enforce:function(e){return M(e)?y(e):x(e,{})},getterFor:function(e){return function(t){var n;if(!eQ(t)||(n=y(t)).type!==e)throw new t$("Incompatible receiver, "+e+" required");return n}}},t5=tk.CONFIGURABLE,t4=t2.enforce,t3=t2.get,t8=String,t7=Object.defineProperty,t6=ex("".slice),t9=ex("".replace),ne=ex([].join),nt=eA&&!eg(function(){return 8!==t7(function(){},"length",{value:8}).length}),nn=String(String).split("String"),ni=tD.exports=function(e,t,n){"Symbol("===t6(t8(t),0,7)&&(t="["+t9(t8(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!to(e,"name")||t5&&e.name!==t)&&(eA?t7(e,"name",{value:t,configurable:!0}):e.name=t),nt&&n&&to(n,"arity")&&e.length!==n.arity&&t7(e,"length",{value:n.arity});try{n&&to(n,"constructor")&&n.constructor?eA&&t7(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var i=t4(e);return to(i,"source")||(i.source=ne(nn,"string"==typeof t?t:"")),e};Function.prototype.toString=ni(function(){return eG(this)&&t3(this).source||tF(this)},"toString");var nr=tD.exports,no=function(e,t,n,i){i||(i={});var r=i.enumerable,o=void 0!==i.name?i.name:t;if(eG(n)&&nr(n,o,i),i.global)r?e[t]=n:e7(t,n);else{try{i.unsafe?e[t]&&(r=!0):delete e[t]}catch(e){}r?e[t]=n:t_.f(e,t,{value:n,enumerable:!1,configurable:!i.nonConfigurable,writable:!i.nonWritable})}return e},na={},ns=Math.ceil,nl=Math.floor,nd=Math.trunc||function(e){var t=+e;return(t>0?nl:ns)(t)},nu=function(e){var t=+e;return t!=t||0===t?0:nd(t)},nc=Math.max,np=Math.min,ng=Math.min,nA=function(e){var t=nu(e);return t>0?ng(t,9007199254740991):0},nI=function(e,t){var n=nu(e);return n<0?nc(n+t,0):np(n,t)},nE=function(e){return function(t,n,i){var r,o=eD(t),a=nA(o.length);if(0===a)return!e&&-1;var s=nI(i,a);if(e&&n!=n){for(;a>s;)if((r=o[s++])!=r)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},nh={includes:nE(!0),indexOf:nE(!1)},nf=nh.indexOf,nO=ex([].push),nS=function(e,t){var n,i=eD(e),r=0,o=[];for(n in i)!to(tq,n)&&to(i,n)&&nO(o,n);for(;t.length>r;)to(i,n=t[r++])&&(~nf(o,n)||nO(o,n));return o},nT=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],nm=nT.concat("length","prototype");na.f=Object.getOwnPropertyNames||function(e){return nS(e,nm)};var nN={};nN.f=Object.getOwnPropertySymbols;var n_=ex([].concat),nv=eU("Reflect","ownKeys")||function(e){var t=na.f(tM(e)),n=nN.f;return n?n_(t,n(e)):t},nx=/#|\.prototype\./,ny=function(e,t){var n=nR[nM(e)];return n===nb||n!==nP&&(eG(t)?eg(t):!!t)},nM=ny.normalize=function(e){return String(e).replace(nx,".").toLowerCase()},nR=ny.data={},nP=ny.NATIVE="N",nb=ny.POLYFILL="P",nL=ep.f,nC=function(e,t,n){for(var i=nv(t),r=t_.f,o=ep.f,a=0;a<i.length;a++){var s=i[a];to(e,s)||n&&to(n,s)||r(e,s,o(t,s))}},nw=function(e,t){var n,i,r,o,a,s=e.target,l=e.global,d=e.stat;if(n=l?ec:d?ec[s]||e7(s,{}):ec[s]&&ec[s].prototype)for(i in t){if(o=t[i],r=e.dontCallGetSet?(a=nL(n,i))&&a.value:n[i],!ny(l?i:s+(d?".":"#")+i,e.forced)&&void 0!==r){if(typeof o==typeof r)continue;nC(o,r)}(e.sham||r&&r.sham)&&tj(o,"sham",!0),no(n,i,o,e)}},nj=Object.keys||function(e){return nS(e,nT)},nD=Object.assign,nB=Object.defineProperty,nG=ex([].concat),nQ=!nD||eg(function(){if(eA&&1!==nD({b:1},nD(nB({},"a",{enumerable:!0,get:function(){nB(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!==nD({},e)[n]||nj(nD({},t)).join("")!==i})?function(e,t){for(var n=ti(e),i=arguments.length,r=1,o=nN.f,a=ef.f;i>r;)for(var s,l=eL(arguments[r++]),d=o?nG(nj(l),o(l)):nj(l),u=d.length,c=0;u>c;)s=d[c++],(!eA||eh(a,l,s))&&(n[s]=l[s]);return n}:nD;nw({target:"Object",stat:!0,arity:2,forced:Object.assign!==nQ},{assign:nQ});var nU={};nU.f=eA&&!tv?Object.defineProperties:function(e,t){tM(e);for(var n,i=eD(t),r=nj(t),o=r.length,a=0;o>a;)t_.f(e,n=r[a++],i[n]);return e};var nk=eU("document","documentElement"),nW="prototype",nz="script",nF=tY("IE_PROTO"),nX=function(){},nK=function(e){return"<"+nz+">"+e+"</"+nz+">"},nH=function(e){e.write(nK("")),e.close();var t=e.parentWindow.Object;return e=null,t},nY=function(){var e,t=tT("iframe");return t.style.display="none",nk.appendChild(t),t.src=String("java"+nz+":"),(e=t.contentWindow.document).open(),e.write(nK("document.F=Object")),e.close(),e.F},nq=function(){try{R=new ActiveXObject("htmlfile")}catch(e){}nq="undefined"!=typeof document?document.domain&&R?nH(R):nY():nH(R);for(var e=nT.length;e--;)delete nq[nW][nT[e]];return nq()};tq[nF]=!0;var nZ=Object.create||function(e,t){var n;return null!==e?(nX[nW]=tM(e),n=new nX,nX[nW]=null,n[nF]=e):n=nq(),void 0===t?n:nU.f(n,t)},nV=t_.f,n$=tg("unscopables"),nJ=Array.prototype;void 0===nJ[n$]&&nV(nJ,n$,{configurable:!0,value:nZ(null)});var n0=function(e){nJ[n$][e]=!0},n1={},n2=!eg(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),n5=tY("IE_PROTO"),n4=Object,n3=n4.prototype,n8=n2?n4.getPrototypeOf:function(e){var t=ti(e);if(to(t,n5))return t[n5];var n=t.constructor;return eG(n)&&t instanceof n?n.prototype:t instanceof n4?n3:null},n7=tg("iterator"),n6=!1;[].keys&&("next"in(L=[].keys())?(b=n8(n8(L)))!==Object.prototype&&(P=b):n6=!0),(!eQ(P)||eg(function(){var e={};return P[n7].call(e)!==e}))&&(P={}),eG(P[n7])||no(P,n7,function(){return this});var n9={IteratorPrototype:P,BUGGY_SAFARI_ITERATORS:n6},ie=t_.f,it=tg("toStringTag"),ii=function(e,t,n){e&&!n&&(e=e.prototype),e&&!to(e,it)&&ie(e,it,{configurable:!0,value:t})},ir=n9.IteratorPrototype,io=function(){return this},ia=String,is=TypeError,il=function(e,t,n){try{return ex(e2(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}},id=function(e){if(eQ(e)||null===e)return e;throw new is("Can't set "+ia(e)+" as a prototype")},iu=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=il(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return tM(n),id(i),t?e(n,i):n.__proto__=i,n}}():void 0),ic=tk.PROPER,ip=tk.CONFIGURABLE,ig=n9.IteratorPrototype,iA=n9.BUGGY_SAFARI_ITERATORS,iI=tg("iterator"),iE="keys",ih="values",iO="entries",iS=t_.f,iT=function(e,t){return{value:e,done:t}},im="Array Iterator",iN=t2.set,i_=t2.getterFor(im),iv=(d=Array,u="Array",p="values",r=c=function(e,t){iN(this,{type:im,target:eD(e),index:0,kind:t})},o=u,a=function(){var e=i_(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,iT(void 0,!0);switch(e.kind){case"keys":return iT(n,!1);case"values":return iT(t[n],!1)}return iT([n,t[n]],!1)},l=o+" Iterator",r.prototype=nZ(ir,{next:em(1,a)}),ii(r,l,!1),n1[l]=io,I=function(e){if(e===p&&O)return O;if(!iA&&e&&e in h)return h[e];switch(e){case iE:case ih:case iO:return function(){return new c(this,e)}}return function(){return new c(this)}},E=!1,f=(h=d.prototype)[iI]||h["@@iterator"]||p&&h[p],O=!iA&&f||I(p),(S=(0,h.entries||f))&&(g=n8(S.call(new d)))!==Object.prototype&&g.next&&(n8(g)===ig||(iu?iu(g,ig):eG(g[iI])||no(g,iI,function(){return this})),ii(g,u+" Iterator",!0)),ic&&p===ih&&f&&f.name!==ih&&(ip?tj(h,"name",ih):(E=!0,O=function(){return eh(f,this)})),p&&nw({target:u,proto:!0,forced:iA||E},A={values:I(ih),keys:I(iE),entries:I(iO)}),h[iI]!==O&&no(h,iI,O,{name:p}),n1[u]=O,A),ix=n1.Arguments=n1.Array;if(n0("keys"),n0("values"),n0("entries"),eA&&"values"!==ix.name)try{iS(ix,"name",{value:"values"})}catch(e){}var iy=tT("span").classList,iM=iy&&iy.constructor&&iy.constructor.prototype,iR=iM===Object.prototype?void 0:iM,iP={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},ib=tg("iterator"),iL=iv.values,iC=function(e,t){if(e){if(e[ib]!==iL)try{tj(e,ib,iL)}catch(t){e[ib]=iL}if(ii(e,t,!0),iP[t]){for(var n in iv)if(e[n]!==iv[n])try{tj(e,n,iv[n])}catch(t){e[n]=iv[n]}}}};for(var iw in iP)iC(ec[iw]&&ec[iw].prototype,iw);iC(iR,"DOMTokenList");let ij=Object.freeze({CLICK_MAP:"CLICK_MAP",CONTACT_INFO:"CONTACT_INFO",DATETIME:"DATETIME",FILE_UPLOAD:"FILE_UPLOAD",MATRIX:"MATRIX",MULTIPLE_CHOICE:"MULTIPLE_CHOICE",OPEN_ENDED:"OPEN_ENDED",PRESENTATION:"PRESENTATION",RANKING:"RANKING",RATING_SCALE:"RATING_SCALE",SLIDER:"SLIDER"}),iD=Object.freeze({DATE:"DATE",DATETIME:"DATETIME",ESSAY:"ESSAY",FILE_UPLOAD:"FILE_UPLOAD",IMAGE:"IMAGE",IMAGE_AB_TEST:"IMAGE_AB_TEST",MANY_ANSWERS_CHECKBOX:"MANY_ANSWERS_CHECKBOX",MANY_ANSWERS_IMAGE:"MANY_ANSWERS_IMAGE",MANY_FIELDS:"MANY_FIELDS",MENU:"MENU",BEST_WORST:"BEST_WORST",NPS:"NPS",SINGLE_ANSWER_IMAGE:"SINGLE_ANSWER_IMAGE",SINGLE_ANSWER_MENU:"SINGLE_ANSWER_MENU",SINGLE_ANSWER_RADIO:"SINGLE_ANSWER_RADIO",SINGLE_ANSWER_SYMBOL:"SINGLE_ANSWER_SYMBOL",SINGLE_CLICK:"SINGLE_CLICK",SINGLE_LINE:"SINGLE_LINE",SINGLE_SLIDER:"SINGLE_SLIDER",TEXT:"TEXT",TEXT_AB_TEST:"TEXT_AB_TEST",TIME:"TIME",ADDRESS:"ADDRESS",NAME:"NAME",EMAIL:"EMAIL",PHONE:"PHONE"}),iB=Object.freeze({ADDRESS:"ADDRESS",CHECKBOX:"CHECKBOX",CLICK_MAP:"CLICK_MAP",COMMENT_BOX:"COMMENT_BOX",CONTACT_INFO:"CONTACT_INFO",DATETIME:"DATETIME",DROPDOWN:"DROPDOWN",EMAIL:"EMAIL",FILE_UPLOAD:"FILE_UPLOAD",IMAGE:"IMAGE",IMAGE_AB_TEST:"IMAGE_AB_TEST",IMAGE_CHOICE:"IMAGE_CHOICE",NAME:"NAME",NPS:"NPS",MATRIX_SINGLE_ANSWER:"MATRIX_SINGLE_ANSWER",MATRIX_MANY_ANSWERS:"MATRIX_MANY_ANSWERS",MATRIX_MENU:"MATRIX_MENU",MATRIX_BEST_WORST:"MATRIX_BEST_WORST",MULTIPLE_CHOICE:"MULTIPLE_CHOICE",MULTIPLE_TEXTBOX:"MULTIPLE_TEXTBOX",PHONE:"PHONE",RANKING:"RANKING",SINGLE_TEXTBOX:"SINGLE_TEXTBOX",STAR_RATING:"STAR_RATING",SLIDER:"SLIDER",TEXT:"TEXT",TEXT_AB_TEST:"TEXT_AB_TEST",UNKNOWN:"UNKNOWN"}),iG=((T={}).IMAGE="IMAGE",T.TEXT="TEXT",T),iQ=Object.freeze({ADVANCED:"ADVANCED",ANSWER_RANDOMIZATION:"ANSWER_RANDOMIZATION",BLOCK_RANDOMIZATION:"BLOCK_RANDOMIZATION",CARRY_FORWARD:"CARRY_FORWARD",PAGE_RANDOMIZATION:"PAGE_RANDOMIZATION",PIPING:"PIPING",QUESTION_RANDOMIZATION:"QUESTION_RANDOMIZATION",SIMPLE_SKIP:"SIMPLE_SKIP",PAGE_SKIP:"PAGE_SKIP",MULTIPLE_RANDOMIZATION:"MULTIPLE_RANDOMIZATION"}),iU=Object.freeze({ADVANCED:"ADVANCED",BLOCK_RANDOMIZATION:"BLOCK_RANDOMIZATION",CARRY_FORWARD:"CARRY_FORWARD",SIMPLE_SKIP:"SIMPLE_SKIP"}),ik=Object.freeze({DISQUALIFY_RESPONDENT:"DISQUALIFY_RESPONDENT",END_SURVEY:"END_SURVEY",SKIP_TO_PAGE:"SKIP_TO_PAGE"}),iW="survey overview panel user interaction",iz=Object.freeze({COLLAPSE_PANEL:"collapse panel",EXPAND_PANEL:"expand panel",COLLAPSE_PAGE:"collapse page",EXPAND_PAGE:"expand page",COLLAPSE_QUESTION:"collapse question",EXPAND_QUESTION:"expand question",PAGE_SELECTED:"page selected",OPEN_COMMENT_PANEL:"open comment panel"}),iF=Object.freeze({ADVANCED_LOGIC_PAGE_TARGET_ACTION:"AdvancedLogicPageTargetAction",ADVANCED_LOGIC_QUESTION_TARGET_ACTION:"AdvancedLogicQuestionTargetAction",ADVANCED_LOGIC_BOOLEAN_CONDITION:"AdvancedLogicBooleanCondition",ADVANCED_LOGIC_BOOLEAN_COMBINATION_CONDITION:"AdvancedLogicBooleanCombinationCondition"}),iX=(0,j.defineMessages)({SURVEY_OVERVIEW:{id:"SurveyOverviewPanel.surveyOverview",defaultMessage:"Survey overview"},PAGE:{id:"SurveyOverviewPanel.page",defaultMessage:"Page {number}"},MEDIA:{id:"SurveyOverviewPanel.media",defaultMessage:"Media"},IMAGE:{id:"SurveyOverviewPanel.image",defaultMessage:"Image"},TABLE:{id:"SurveyOverviewPanel.table",defaultMessage:"Table"},COLLAPSE_PANEL:{id:"SurveyOverviewPanel.ClosePanel",defaultMessage:"Collapse survey overview panel"},EXPAND_PANEL:{id:"SurveyOverviewPanel.OpenPanel",defaultMessage:"Expand survey overview panel"},COLLAPSE_PAGE:{id:"SurveyOverviewPanel.CollapsePage",defaultMessage:"Collapse page"},EXPAND_PAGE:{id:"SurveyOverviewPanel.ExpandPage",defaultMessage:"Expand page"},COLLAPSE_QUESTION:{id:"SurveyOverviewPanel.CollapseQuestion",defaultMessage:"Collapse question"},EXPAND_QUESTION:{id:"SurveyOverviewPanel.ExpandQuestion",defaultMessage:"Expand question"},SHUFFLE_ICON:{id:"SurveyOverviewPanel.ShuffleIcon",defaultMessage:"Shuffle icon"},ERROR_ICON:{id:"SurveyOverviewPanel.ErrorIcon",defaultMessage:"Error icon"}}),iK=(0,C.createContext)({}),iH=e=>{let{value:t,children:n}=e,i=(0,C.useMemo)(()=>t,[]);return(0,Q.jsx)(iK.Provider,{value:i,children:n})},iY=()=>(0,C.useContext)(iK),iq=(0,C.createContext)({}),iZ=e=>{let{value:t,children:n}=e;return(0,Q.jsx)(iq.Provider,{value:t,children:n})},iV=()=>(0,C.useContext)(iq),i$=(0,C.createContext)({[iQ.SIMPLE_SKIP]:[],[iQ.CARRY_FORWARD]:[],[iQ.BLOCK_RANDOMIZATION]:{blocksMap:{},blockIdsWithRandomizationAcross:[],blocksPageMap:{}},[iQ.ADVANCED]:[],[iQ.PAGE_RANDOMIZATION]:void 0}),iJ=e=>{let{value:t,children:n}=e;return(0,Q.jsx)(i$.Provider,{value:t,children:n})},i0=()=>(0,C.useContext)(i$),i1=(0,C.createContext)({}),i2=e=>{let{value:t,children:n}=e;return(0,Q.jsx)(i1.Provider,{value:t,children:n})},i5=()=>(0,C.useContext)(i1),i4=(0,C.createContext)({}),i3=e=>{let{value:t,children:n}=e;return(0,Q.jsx)(i4.Provider,{value:t,children:n})},i8=()=>(0,C.useContext)(i4),i7=(0,C.createContext)({}),i6=e=>{let{value:t,children:n}=e;return(0,Q.jsx)(i7.Provider,{value:t,children:n})},i9=()=>(0,C.useContext)(i7),re=(0,C.createContext)({id:void 0}),rt=e=>{let{value:t,children:n}=e;return(0,Q.jsx)(re.Provider,{value:t,children:n})},rn=()=>(0,C.useContext)(re),ri=e=>{var t;let n={};return null==e||null==(t=e.commentSummary)||t.forEach(e=>{n[e.questionId]=e.commentCount}),n};var rr=nh.includes;nw({target:"Array",proto:!0,forced:eg(function(){return![,].includes()})},{includes:function(e){return rr(this,e,arguments.length>1?arguments[1]:void 0)}}),n0("includes");var ro=tg("toStringTag"),ra={};ra[ro]="z";var rs="[object z]"===String(ra),rl=tg("toStringTag"),rd=Object,ru="Arguments"===eR(function(){return arguments}()),rc=function(e,t){try{return e[t]}catch(e){}},rp=rs?eR:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=rc(t=rd(e),rl))?n:ru?eR(t):"Object"===(i=eR(t))&&eG(t.callee)?"Arguments":i},rg=String,rA=function(e){if("Symbol"===rp(e))throw TypeError("Cannot convert a Symbol value to a string");return rg(e)},rI=function(){var e=tM(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},rE=ec.RegExp,rh=eg(function(){var e=rE("a","y");return e.lastIndex=2,null!==e.exec("abcd")}),rf=(rh||eg(function(){return!rE("a","y").sticky}),rh||eg(function(){var e=rE("^r","gy");return e.lastIndex=2,null!==e.exec("str")})),rO=ec.RegExp,rS=eg(function(){var e=rO(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}),rT=ec.RegExp,rm=eg(function(){var e=rT("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}),rN=t2.get,r_=tt("native-string-replace",String.prototype.replace),rv=RegExp.prototype.exec,rx=rv,ry=ex("".charAt),rM=ex("".indexOf),rR=ex("".replace),rP=ex("".slice),rb=(N=/b*/g,eh(rv,m=/a/,"a"),eh(rv,N,"a"),0!==m.lastIndex||0!==N.lastIndex),rL=void 0!==/()??/.exec("")[1];(rb||rL||rf||rS||rm)&&(rx=function(e){var t,n,i,r,o,a,s,l=rN(this),d=rA(e),u=l.raw;if(u)return u.lastIndex=this.lastIndex,t=eh(rx,u,d),this.lastIndex=u.lastIndex,t;var c=l.groups,p=rf&&this.sticky,g=eh(rI,this),A=this.source,I=0,E=d;if(p&&(-1===rM(g=rR(g,"y",""),"g")&&(g+="g"),E=rP(d,this.lastIndex),this.lastIndex>0&&(!this.multiline||this.multiline&&"\n"!==ry(d,this.lastIndex-1))&&(A="(?: "+A+")",E=" "+E,I++),n=RegExp("^(?:"+A+")",g)),rL&&(n=RegExp("^"+A+"$(?!\\s)",g)),rb&&(i=this.lastIndex),r=eh(rv,p?n:this,E),p?r?(r.input=rP(r.input,I),r[0]=rP(r[0],I),r.index=this.lastIndex,this.lastIndex+=r[0].length):this.lastIndex=0:rb&&r&&(this.lastIndex=this.global?r.index+r[0].length:i),rL&&r&&r.length>1&&eh(r_,r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r&&c)for(o=0,r.groups=a=nZ(null);o<c.length;o++)a[(s=c[o])[0]]=r[s[1]];return r});var rC=rx;nw({target:"RegExp",proto:!0,forced:/./.exec!==rC},{exec:rC});var rw=tg("match"),rj=function(e){var t;return eQ(e)&&(void 0!==(t=e[rw])?!!t:"RegExp"===eR(e))},rD=TypeError,rB=tg("match"),rG=function(e){if(rj(e))throw new rD("The method doesn't accept regular expressions");return e},rQ=ex("".indexOf);nw({target:"String",proto:!0,forced:!function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[rB]=!1,"/./"[e](t)}catch(e){}}return!1}("includes")},{includes:function(e){return!!~rQ(rA(ej(this)),rA(rG(e)),arguments.length>1?arguments[1]:void 0)}});var rU=tg("species"),rk=RegExp.prototype,rW=function(e,t,n,i){var r=tg(e),o=!eg(function(){var t={};return t[r]=function(){return 7},7!==""[e](t)}),a=o&&!eg(function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[rU]=function(){return n},n.flags="",n[r]=/./[r]),n.exec=function(){return t=!0,null},n[r](""),!t});if(!o||!a||n){var s=/./[r],l=t(r,""[e],function(e,t,n,i,r){var a=t.exec;return a===rC||a===rk.exec?o&&!r?{done:!0,value:eh(s,t,n,i)}:{done:!0,value:eh(e,n,t,i)}:{done:!1}});no(String.prototype,e,l[0]),no(rk,r,l[1])}i&&tj(rk[r],"sham",!0)},rz=ex("".charAt),rF=ex("".charCodeAt),rX=ex("".slice),rK=function(e){return function(t,n){var i,r,o=rA(ej(t)),a=nu(n),s=o.length;return a<0||a>=s?e?"":void 0:(i=rF(o,a))<55296||i>56319||a+1===s||(r=rF(o,a+1))<56320||r>57343?e?rz(o,a):i:e?rX(o,a,a+2):(i-55296<<10)+(r-56320)+65536}},rH={codeAt:rK(!1),charAt:rK(!0)}.charAt,rY=function(e,t,n){return t+(n?rH(e,t).length:1)},rq=TypeError,rZ=function(e,t){var n=e.exec;if(eG(n)){var i=eh(n,e,t);return null!==i&&tM(i),i}if("RegExp"===eR(e))return eh(rC,e,t);throw new rq("RegExp#exec called on incompatible receiver")};rW("match",function(e,t,n){return[function(t){var n=ej(this),i=eC(t)?void 0:e5(t,e);return i?eh(i,t,n):new RegExp(t)[e](rA(n))},function(e){var i,r=tM(this),o=rA(e),a=n(t,r,o);if(a.done)return a.value;if(!r.global)return rZ(r,o);var s=r.unicode;r.lastIndex=0;for(var l=[],d=0;null!==(i=rZ(r,o));){var u=rA(i[0]);l[d]=u,""===u&&(r.lastIndex=rY(o,nA(r.lastIndex),s)),d++}return 0===d?null:l}]});let rV=e=>({[iQ.SIMPLE_SKIP]:(null==e?void 0:e.logic.items)||[],[iQ.CARRY_FORWARD]:(null==e?void 0:e.funnels.items)||[],[iQ.ADVANCED]:(null==e?void 0:e.advancedLogicRules.items)||[],[iQ.BLOCK_RANDOMIZATION]:r$((null==e?void 0:e.blocks.items)||[])||{},[iQ.PAGE_RANDOMIZATION]:(null==e?void 0:e.pageRandomization)||void 0}),r$=e=>{let t=[],n={},i={};return e.forEach(e=>{n[e.id]=e,e.isInRandomizedSet&&t.push(e.id),e.pages.forEach(t=>{(e.isInRandomizedSet||t.isInRandomizedSet)&&(i[t.id]={blockId:e.id,hasRandomizationAcrossBlocks:e.isInRandomizedSet,hasRandomizationWithinBlock:t.isInRandomizedSet})})}),{blocksMap:n,blockIdsWithRandomizationAcross:t,blocksPageMap:i}},rJ=e=>null==e?void 0:e.filter(e=>"PAGE_UNCONDITIONAL"===e.skipType),r0=(e,t,n)=>t.map(t=>{let i=null==e?void 0:e.find(e=>e.source.answerOptionId===t.id);return i?Object.assign({},t,{logic:Object.assign({type:i.destination.type},i.destination.type===ik.SKIP_TO_PAGE?{page:n.pageContext[i.destination.pageId]}:{})}):t}),r1=e=>"sorting"in e,r2=e=>{let t=[];return e.forEach(e=>{if(0===t.length)return t.push([e]);let n=t[t.length-1];return r3(n[n.length-1],e)?n.push(e):t.push([e])}),t.map(e=>{var t,n;return Object.assign({id:e[0].id,labels:{from:(null==(t=e[0].label.match(/\d+/g))?void 0:t[0])||e[0].label,to:(null==(n=e[e.length-1].label.match(/\d+/g))?void 0:n[0])||e[e.length-1].label}},e[0].logic?{logic:e[0].logic}:{})})},r5=(e,t,n)=>{let i={};return Object.keys(iQ).forEach(r=>{if(r===iQ.SIMPLE_SKIP&&(i[iQ.SIMPLE_SKIP]={show:r4(e.SIMPLE_SKIP,t.id)}),r===iQ.ANSWER_RANDOMIZATION){var o,a;i[iQ.ANSWER_RANDOMIZATION]={show:r1(t)&&["RANDOM","FLIP"].includes(null!=(o=null==(a=t.sorting)?void 0:a.type)?o:"")}}if(r===iQ.PIPING&&(i[iQ.PIPING]={show:t.hasPiping}),r===iQ.CARRY_FORWARD){let{questionsContext:r}=n,o=r8(e.CARRY_FORWARD,t.id);i[iQ.CARRY_FORWARD]={show:!!o,options:{funnelSenderQuestionNumber:o?r7(r,o):null}}}}),i},r4=(e,t)=>!!e.find(e=>e.source.questionId===t),r3=(e,t)=>{var n,i,r,o,a,s;return(null==e||null==(n=e.logic)?void 0:n.type)===(null==t||null==(i=t.logic)?void 0:i.type)&&((null==e||null==(r=e.logic)?void 0:r.type)!==ik.SKIP_TO_PAGE||(null==e||null==(o=e.logic)?void 0:o.type)===ik.SKIP_TO_PAGE&&(null==e||null==(a=e.logic)||null==(a=a.page)?void 0:a.id)===(null==t||null==(s=t.logic)||null==(s=s.page)?void 0:s.id))},r8=(e,t)=>e.find(e=>e.receiverQuestionId===t),r7=(e,t)=>e[t.senderQuestionId].position.label,r6=({logicContext:e,pageContext:t,questionsContext:n,page:i,isAdvancedBranchingEnabled:r})=>{var o;let a={},s=e[iQ.BLOCK_RANDOMIZATION],l=e[iQ.PAGE_RANDOMIZATION],d=e[iQ.ADVANCED],u=rJ(e[iQ.SIMPLE_SKIP])||[],c=i.questionRandomization.isEnabled&&["RANDOM","FLIP"].includes(null!=(o=i.questionRandomization.type)?o:""),p=(null==l?void 0:l.isEnabled)&&(l.isAppliedToAll||(null==l?void 0:l.pages.includes(i.id))),g=!!s.blocksPageMap[i.id],A=[...c?[iQ.QUESTION_RANDOMIZATION]:[],...p?[iQ.PAGE_RANDOMIZATION]:[],...g?[iQ.BLOCK_RANDOMIZATION]:[]],I=A.length>=2;return a[iQ.MULTIPLE_RANDOMIZATION]={show:I,options:{randomizationTypesIncluded:I?A:null}},Object.keys(iQ).forEach(e=>{if(e===iQ.BLOCK_RANDOMIZATION){let e=!I&&g;a[iQ.BLOCK_RANDOMIZATION]={show:e,options:{blocksPageNumbers:e?on(i.id,s,t):null}}}if(e===iQ.PAGE_RANDOMIZATION){let e=!I&&p;a[iQ.PAGE_RANDOMIZATION]={show:e,options:Object.assign({},e&&or(l,t),!e&&{pageRandomizationAppliedToAll:null,pageRandomizationPageNumbers:null})}}e===iQ.QUESTION_RANDOMIZATION&&(a[iQ.QUESTION_RANDOMIZATION]={show:!I&&c}),e===iQ.ADVANCED&&(a[iQ.ADVANCED]={show:r9({advancedLogicRules:d,pageSkipRules:r?u:[]},i,n)}),e===iQ.PAGE_SKIP&&(a[iQ.PAGE_SKIP]={show:!r&&oe(u,i)})}),a},r9=(e,t,n)=>{let i=e=>{var i;return(null==(i=n[e])?void 0:i.pageId)===t.id},{advancedLogicRules:r,pageSkipRules:o}=e;return r.some(e=>{var n;return!!e.enabled&&(!!(e.pageId===t.id||e.condition.__typename===iF.ADVANCED_LOGIC_BOOLEAN_CONDITION&&i(null==(n=e.condition.left)?void 0:n.questionId)||e.condition.__typename===iF.ADVANCED_LOGIC_BOOLEAN_COMBINATION_CONDITION&&e.condition.conditions.some(e=>{var t;return i(null==(t=e.left)?void 0:t.questionId)}))||e.actions.some(e=>e.__typename===iF.ADVANCED_LOGIC_PAGE_TARGET_ACTION?e.pageId===t.id:e.__typename===iF.ADVANCED_LOGIC_QUESTION_TARGET_ACTION&&i(e.questionId)))})||oe(o,t)},oe=(e,t)=>e.some(e=>e.source.pageId===t.id||e.destination.pageId===t.id),ot=e=>{var t,n,i;if(null!=e&&e.pageRandomization&&null!=e&&null!=(t=e.pageRandomization)&&t.isEnabled)return!0;for(let t of(null==e?void 0:e.blocks.items)||[])if("NONE"!==t.type||t.isInRandomizedSet)return!0;if(null!=e&&e.pages)for(let t of e.pages.items||[]){if(t.questionRandomization&&t.questionRandomization.isEnabled&&"NONE"!==t.questionRandomization.type)return!0;if(t.questionsQM){let e=t.questionsQM.items;if(e){for(let t of e)if(r1(t)&&t.sorting&&["RANDOM","FLIP"].includes(null!=(n=null==(i=t.sorting)?void 0:i.type)?n:""))return!0}}}return!1},on=(e,t,n)=>{let{blocksPageMap:i,blockIdsWithRandomizationAcross:r,blocksMap:o}=t,a=i[e];return a.hasRandomizationAcrossBlocks&&!a.hasRandomizationWithinBlock||a.hasRandomizationAcrossBlocks&&a.hasRandomizationWithinBlock?r.map(e=>oi(o[e],n)):!a.hasRandomizationAcrossBlocks&&a.hasRandomizationWithinBlock?[oi(o[a.blockId],n)]:[]},oi=(e,t)=>{let n=e.pages[0].id,i=e.pages[e.pages.length-1].id;return 1===e.pages.length?t[n]?[t[n].position]:null:t[n]&&t[i]?[t[n].position,t[i].position]:null},or=(e,t)=>null!=e&&e.isAppliedToAll?{pageRandomizationAppliedToAll:!0}:{pageRandomizationPageNumbers:null==e?void 0:e.pages.map(e=>{var n,i;return null!=(n=null==(i=t[e])?void 0:i.position)?n:null})},oo=e=>{let t=[];return Object.keys(iU).forEach(n=>{var i,r,o,a;switch(n){case iU.ADVANCED:(null!=(i=null==e?void 0:e.advancedLogicRules.totalCount)?i:0)>100&&t.push(iU.ADVANCED);break;case iU.BLOCK_RANDOMIZATION:(null!=(r=null==e?void 0:e.blocks.totalCount)?r:0)>100&&t.push(iU.BLOCK_RANDOMIZATION);break;case iU.CARRY_FORWARD:(null!=(o=null==e?void 0:e.funnels.totalCount)?o:0)>100&&t.push(iU.CARRY_FORWARD);break;case iU.SIMPLE_SKIP:(null!=(a=null==e?void 0:e.logic.totalCount)?a:0)>100&&t.push(iU.SIMPLE_SKIP)}}),t},oa=e=>{var t;let n={};return null==e||null==(t=e.pages)||t.items.forEach(e=>{n[e.id]={id:e.id,position:e.position}}),n},os=e=>{var t;let n={};return null==e||null==(t=e.pages)||t.items.forEach(e=>{var t;let i=null==(t=e.questionsQM)?void 0:t.items;null==i||i.forEach(t=>{n[t.id]={position:t.position,id:t.id,pageId:e.id}})}),n},ol=e=>({id:null==e?void 0:e.id}),od=e=>{let{children:t,values:n}=e,{actions:i,comments:r,metricsMetadata:o,survey:a}=n;return(0,Q.jsx)(iH,{value:i,children:(0,Q.jsx)(iZ,{value:ri(r),children:(0,Q.jsx)(rt,{value:ol(a),children:(0,Q.jsx)(iJ,{value:rV(a),children:(0,Q.jsx)(i2,{value:o,children:(0,Q.jsx)(i3,{value:oa(a),children:(0,Q.jsx)(i6,{value:os(a),children:t})})})})})})})},ou=(0,j.defineMessages)({LONG_SURVEY_ERROR_TITLE:{id:"LongSurveyError.all",defaultMessage:"Unable to load overview"},LONG_SURVEY_ERROR_DESCRIPTION:{id:"LongSurveyError.selectedPages",defaultMessage:"The survey is too big. The overview panel can show up to 100 pages."}}),oc=(0,U.createMemoStyles)(e=>({errorContainer:{marginTop:100}})),op=()=>{let{errorContainer:e}=oc();return(0,Q.jsxs)(B.Box,{className:e,children:[(0,Q.jsx)(B.Box,{align:"center",children:(0,Q.jsx)(k._u,{title:(0,j.t)(iX.ERROR_ICON),saturation:"medium",color:"warning",size:"md"})}),(0,Q.jsxs)(B.Box,{align:"center",mt:4,children:[(0,Q.jsx)(G.Typography,{align:"center",color:"darkMuted",weight:"medium",children:(0,j.t)(ou.LONG_SURVEY_ERROR_TITLE)}),(0,Q.jsx)(G.Typography,{align:"center",color:"darkMuted",children:(0,j.t)(ou.LONG_SURVEY_ERROR_DESCRIPTION)})]})]})},og=(0,j.defineMessages)({MISSING_LOGIC_BANNER_TEXT:{id:"MissingLogicBanner.MissingLogicBannerText",defaultMessage:'<span id="weightedText">Unable to show all logic.</span> You\'ll see only the first 100 rules for each type of logic (skip, branching and so on).'},WARNING_ICON:{id:"MissingLogicBanner.WarningIcon",defaultMessage:"Warning icon"}}),oA=(0,U.createMemoStyles)(({palette:e,spacing:t,border:n})=>({bannerContainer:{backgroundColor:e.background.main,padding:t[4],borderBottom:n.main}})),oI=()=>{let{bannerContainer:e}=oA();return(0,Q.jsxs)(B.Box,{className:e,display:"inline-block",children:[(0,Q.jsx)(W.C,{color:"warning",children:(0,Q.jsx)(z.IconWarning,{size:"md",title:(0,j.t)(og.WARNING_ICON)})}),(0,Q.jsx)(B.Box,{element:"span",ml:1,children:(0,Q.jsx)(G.Typography,{variant:"bodySm",component:"span",children:(0,j.t)(og.MISSING_LOGIC_BANNER_TEXT,{weightedText:({children:e})=>(0,Q.jsx)(G.Typography,{variant:"bodySm",weight:"medium",component:"span",children:e})})})})]})};var oE=RegExp.prototype,oh=function(e){var t=e.flags;return!(void 0===t&&!("flags"in oE)&&!to(e,"flags")&&ek(oE,e))?t:eh(rI,e)},of=tk.PROPER,oO="toString",oS=RegExp.prototype,oT=oS[oO],om=eg(function(){return"/a/b"!==oT.call({source:"a",flags:"b"})}),oN=of&&oT.name!==oO;(om||oN)&&no(oS,oO,function(){var e=tM(this);return"/"+rA(e.source)+"/"+rA(oh(e))},{unsafe:!0});let o_=(0,j.defineMessages)({SIMPLE_SKIP_POPOUT:{id:"LogicIndicator.SimpleSkipPopout",defaultMessage:'This question has <span id="weightedText">Skip logic</span>.'},ANSWER_RANDOMIZATION_POPOUT:{id:"LogicIndicator.AnswerRandomizationPopout",defaultMessage:'This question uses <span id="weightedText">Answer randomization</span>.'},PIPING_POPOUT:{id:"LogicIndicator.PipingPopout",defaultMessage:'This question uses <span id="weightedText">Question piping</span>.'},PIPING_BADGE_MESSAGE:{id:"LogicIndicator.PipingBadgeMessage",defaultMessage:"Pipe in answers"},CARRY_FORWARD_BADGE:{id:"LogicIndicator.CarryForwardBadge",defaultMessage:"Carry forward from Q{questionNumber}"},CARRY_FORWARD_POPOUT:{id:"LogicIndicator.CarryForwardPopout",defaultMessage:'This question uses <span id="weightedText">Carry forward responses</span>.'},ADVANCED_LOGIC_POPOUT:{id:"LogicIndicator.AdvancedLogicPopout",defaultMessage:'This page uses <span id="weightedText">Advanced branching logic</span>. <span id="link">Learn more</span>'},PAGE_SKIP_POPOUT:{id:"LogicIndicator.PageSkipLogicPopout",defaultMessage:'This page has <span id="weightedText">Skip logic</span>.'},QUESTION_RANDOMIZATION_POPOUT:{id:"LogicIndicator.QuestionRandomizationPopout",defaultMessage:'This page uses <span id="weightedText">Question randomization</span>.'},PAGE_RANDOMIZATION_POPOUT:{id:"LogicIndicator.PageRandomizationPopout",defaultMessage:'<span id="weightedText">Page randomization</span> applies to:'},BLOCK_RANDOMIZATION_POPOUT:{id:"LogicIndicator.BlockRandomizationPopout",defaultMessage:'<span id="weightedText">Block randomization</span> applies to:'},PAGE_NUMBER:{id:"LogicIndicator.PageNumber",defaultMessage:"Page {pageNumber}"},ALL_PAGES:{id:"LogicIndicator.AllPages",defaultMessage:"All pages"},BLOCK:{id:"LogicIndicator.BlockNumber",defaultMessage:"Block"},QUESTION_RANDOMIZATION:{id:"LogicIndicator.QuestionRandomization",defaultMessage:"Question randomization"},PAGE_RANDOMIZATION:{id:"LogicIndicator.PageRandomization",defaultMessage:"Page randomization"},BLOCK_RANDOMIZATION:{id:"LogicIndicator.BlockRandomization",defaultMessage:"Block randomization"},TWO_RANDOMIZATION_APPLY_TO_PAGE:{id:"LogicIndicator.TwoRandomizationApplyToPage",defaultMessage:'<span id="weightedText">{randomization1}</span> and <span id="weightedText">{randomization2}</span> apply to this page.'},THREE_RANDOMIZATION_APPLY_TO_PAGE:{id:"LogicIndicator.ThreeRandomizationApplyToPage",defaultMessage:'<span id="weightedText">{randomization1}</span>, <span id="weightedText">{randomization2}</span>, and <span id="weightedText">{randomization3}</span> apply to this page.'},MULTIPLE_RANDOMIZATION_APPLY_TO_PAGE:{id:"LogicIndicator.MultipleRandomizationApplyToPage",defaultMessage:"Multiple randomization apply to this page."},SKIP_ICON:{id:"LogicIndicator.CombineIcon",defaultMessage:"Skip icon"},ADVANCED_LOGIC_ICON:{id:"LogicIndicator.AdvancedLogicIcon",defaultMessage:"Advanced logic icon"},CARRY_FORWARD_ICON:{id:"LogicIndicator.CarryForwardIcon",defaultMessage:"Carry forward icon"},QUESTION_PIPING_ICON:{id:"LogicIndicator.QuestionPipingIcon",defaultMessage:"Question piping icon"}}),ov=({children:e})=>(0,Q.jsx)(G.Typography,{variant:"bodySm",weight:"medium",component:"span",children:e}),ox=e=>{var t,n;let{logicType:i,options:r,verbose:o}=e,[a,s]=(0,C.useState)(!1);(0,C.useEffect)(()=>{s(!0)},[]);let l=(e,t,n="right")=>{let i=(0,Q.jsx)(B.Box,{mr:2,children:e});return(0,Q.jsx)(X.yR,Object.assign({trigger:i,placement:n,noCloseButton:!0},a?{renderTo:document.body}:{},{children:(0,Q.jsx)(X.yR.Body,{children:t})}))};switch(i){case iQ.SIMPLE_SKIP:return l((0,Q.jsx)(W.C,{color:"info","data-testid":"SimpleSkipLogicIndicator",children:(0,Q.jsx)(z.IconArrowCombine,{title:(0,j.t)(o_.SKIP_ICON)})}),(0,j.t)(o_.SIMPLE_SKIP_POPOUT,{weightedText:ov}));case iQ.ANSWER_RANDOMIZATION:return l((0,Q.jsx)(W.C,{color:"info","data-testid":"AnswerRandomizationIndicator",children:(0,Q.jsx)(z.IconShuffle,{title:(0,j.t)(iX.SHUFFLE_ICON)})}),(0,j.t)(o_.ANSWER_RANDOMIZATION_POPOUT,{weightedText:ov}));case iQ.PIPING:return l((0,Q.jsx)(W.C,{color:"info","data-testid":"PipingIndicator",children:(0,Q.jsxs)(B.Box,{display:"flex",alignItems:"center",children:[(0,Q.jsx)(z.IconArrowDashed,{title:(0,j.t)(o_.QUESTION_PIPING_ICON)}),o&&(0,Q.jsx)(B.Box,{ml:2,element:"span",children:(0,Q.jsx)(G.Typography,{variant:"bodySm",component:"span",weight:"medium",children:(0,Q.jsx)(j.T,{desc:o_.PIPING_BADGE_MESSAGE})})})]})}),(0,j.t)(o_.PIPING_POPOUT,{weightedText:ov}));case iQ.CARRY_FORWARD:return l((0,Q.jsxs)(W.C,{color:"info","data-testid":"CarryForwardIndicator",children:[(0,Q.jsx)(z.IconArrowForward,{title:(0,j.t)(o_.CARRY_FORWARD_ICON)}),o&&(0,Q.jsx)(B.Box,{element:"span",ml:2,children:(0,Q.jsx)(G.Typography,{variant:"bodySm",component:"span",weight:"medium",children:(0,j.t)(o_.CARRY_FORWARD_BADGE,{questionNumber:null==r?void 0:r.funnelSenderQuestionNumber})})})]}),(0,j.t)(o_.CARRY_FORWARD_POPOUT,{weightedText:ov}));case iQ.ADVANCED:return l((0,Q.jsx)(W.C,{color:"info","data-testid":"AdvancedLogicIndicator",children:(0,Q.jsx)(z.IconArrowSkip,{title:(0,j.t)(o_.ADVANCED_LOGIC_ICON)})}),(0,j.t)(o_.ADVANCED_LOGIC_POPOUT,{weightedText:ov,link:({children:e})=>(0,Q.jsx)(G.Typography,{variant:"bodySm",component:"a",href:null==r?void 0:r.editLink,target:"_blank",rel:"noreferrer noopener",children:e})}),"top");case iQ.PAGE_SKIP:return l((0,Q.jsx)(W.C,{color:"info","data-testid":"PageSkipIndicator",children:(0,Q.jsx)(z.IconArrowCombine,{title:(0,j.t)(o_.SKIP_ICON)})}),(0,j.t)(o_.PAGE_SKIP_POPOUT,{weightedText:ov}),"top");case iQ.BLOCK_RANDOMIZATION:return l((0,Q.jsx)(W.C,{color:"info","data-testid":"BlockRandomizationIndicator",children:(0,Q.jsx)(z.IconShuffle,{title:(0,j.t)(iX.SHUFFLE_ICON)})}),(0,Q.jsxs)(Q.Fragment,{children:[(0,j.t)(o_.BLOCK_RANDOMIZATION_POPOUT,{weightedText:ov}),null==r||null==(t=r.blocksPageNumbers)?void 0:t.map(e=>e&&(0,Q.jsxs)(G.Typography,{variant:"bodySm",children:[`${(0,j.t)(o_.BLOCK)}: `,(0,j.t)(o_.PAGE_NUMBER,{pageNumber:e[0]}),2===e.length&&` - ${(0,j.t)(o_.PAGE_NUMBER,{pageNumber:e[1]})}`]},e.toString()))]}),"top");case iQ.PAGE_RANDOMIZATION:{let e=null==r?void 0:r.pageRandomizationAppliedToAll;return l((0,Q.jsx)(W.C,{color:"info","data-testid":"PageRandomizationIndicator",children:(0,Q.jsx)(z.IconShuffle,{title:(0,j.t)(iX.SHUFFLE_ICON)})}),(0,Q.jsxs)(Q.Fragment,{children:[(0,j.t)(o_.PAGE_RANDOMIZATION_POPOUT,{weightedText:ov}),e?(0,Q.jsx)(G.Typography,{variant:"bodySm",children:(0,j.t)(o_.ALL_PAGES)}):null==r||null==(n=r.pageRandomizationPageNumbers)?void 0:n.map(e=>e&&(0,Q.jsx)(G.Typography,{variant:"bodySm",children:(0,j.t)(o_.PAGE_NUMBER,{pageNumber:e})},e.toString()))]}),"top")}case iQ.QUESTION_RANDOMIZATION:return l((0,Q.jsx)(W.C,{color:"info","data-testid":"QuestionRandomizationIndicator",children:(0,Q.jsx)(z.IconShuffle,{title:(0,j.t)(iX.SHUFFLE_ICON)})}),(0,j.t)(o_.QUESTION_RANDOMIZATION_POPOUT,{weightedText:ov}),"top");case iQ.MULTIPLE_RANDOMIZATION:{let e=(0,j.t)(o_.MULTIPLE_RANDOMIZATION_APPLY_TO_PAGE);if(null!=r&&r.randomizationTypesIncluded&&(null==r?void 0:r.randomizationTypesIncluded.length)===2){let t=r.randomizationTypesIncluded[0],n=r.randomizationTypesIncluded[1];e=(0,j.t)(o_.TWO_RANDOMIZATION_APPLY_TO_PAGE,{randomization1:(0,j.t)(o_[t]),randomization2:(0,j.t)(o_[n]),weightedText:ov})}else if(null!=r&&r.randomizationTypesIncluded&&(null==r?void 0:r.randomizationTypesIncluded.length)===3){let t=r.randomizationTypesIncluded[0],n=r.randomizationTypesIncluded[1],i=r.randomizationTypesIncluded[2];e=(0,j.t)(o_.THREE_RANDOMIZATION_APPLY_TO_PAGE,{randomization1:(0,j.t)(o_[t]),randomization2:(0,j.t)(o_[n]),randomization3:(0,j.t)(o_[i]),weightedText:ov})}return l((0,Q.jsx)(W.C,{color:"info","data-testid":"RandomizationIndicator",children:(0,Q.jsx)(z.IconShuffle,{title:(0,j.t)(iX.SHUFFLE_ICON)})}),(0,Q.jsx)(G.Typography,{variant:"bodySm",children:e}),"top")}default:return null}},oy=(0,j.defineMessages)({DISQUALIFY_RESPONDENT:{id:"QuestionAccordionBody.Disqualify",defaultMessage:"Disqualify"},SKIP_TO_PAGE:{id:"QuestionAccordionBody.SkipToPage",defaultMessage:"Go to page {number}"},END_SURVEY:{id:"QuestionAccordionBody.EndSurvey",defaultMessage:"End of survey"},SHOW_ALL:{id:"QuestionAccordionBody.ShowAll",defaultMessage:"Show all"},SHOW_LESS:{id:"QuestionAccordionBody.ShowLess",defaultMessage:"Show less"},ANSWER_OPTION_LOAD_ERROR:{id:"QuestionAccordionBody.AnswerOptionLoadError",defaultMessage:"Could not load answers"},QUESTION_HEADING:{id:"QuestionAccordionBody.QuestionHeading",defaultMessage:"Q{number}"},ANSWER_HEADING:{id:"QuestionAccordionBody.AnswerHeading",defaultMessage:"A{number}"},ROWS:{id:"QuestionAccordionBody.Rows",defaultMessage:"Rows"},COLUMNS:{id:"QuestionAccordionBody.Columns",defaultMessage:"Columns"},SCORE_TO_SCORE:{id:"QuestionAccordionBody.ScoreToScore",defaultMessage:"{from} to {to}"},THIS_IS_A_QUESTION:{id:"QuestionAccordionBody.ThisIsAQuestion",defaultMessage:"This is a {questionType} question"},SLIDER_WITH_QUESTION:{id:"QuestionAccordionBody.SliderWithQuestion",defaultMessage:"Slider with values {left}-{right}"},ADDRESS:{id:"QuestionAccordionBody.Address",defaultMessage:"Address"},CLICK_MAP:{id:"QuestionAccordionBody.ClickMap",defaultMessage:"Click Map"},COMMENT_BOX:{id:"QuestionAccordionBody.CommentBox",defaultMessage:"Comment Box"},CONTACT_INFO:{id:"QuestionAccordionBody.ContactInfo",defaultMessage:"Contact Info"},DATETIME:{id:"QuestionAccordionBody.DateTime",defaultMessage:"Date/Time"},EMAIL:{id:"QuestionAccordionBody.Email",defaultMessage:"Email"},FILE_UPLOAD:{id:"QuestionAccordionBody.FileUpload",defaultMessage:"File Upload"},IMAGE:{id:"QuestionAccordionBody.Image",defaultMessage:"Image"},IMAGE_AB_TEST:{id:"QuestionAccordionBody.ImageABTest",defaultMessage:"Image A/B Test"},IMAGE_CHOICE:{id:"QuestionAccordionBody.ImageChoice",defaultMessage:"Image Choice"},MATRIX_MENU:{id:"QuestionAccordionBody.MatrixMenu",defaultMessage:"Matrix Menu"},MATRIX_BEST_WORST:{id:"QuestionAccordionBody.BestWorst",defaultMessage:"Best/Worst"},MULTIPLE_TEXTBOX:{id:"QuestionAccordionBody.MultipleTextbox",defaultMessage:"Multiple Textbox"},NAME:{id:"QuestionAccordionBody.Name",defaultMessage:"Name"},NPS:{id:"QuestionAccordionBody.NPS",defaultMessage:"NPS"},PHONE:{id:"QuestionAccordionBody.Phone",defaultMessage:"Phone"},SINGLE_TEXTBOX:{id:"QuestionAccordionBody.SingleTextbox",defaultMessage:"Single Textbox"},TEXT:{id:"QuestionAccordionBody.Text",defaultMessage:"Text"},TEXT_AB_TEST:{id:"QuestionAccordionBody.TextABTest",defaultMessage:"Text A/B Test"},UNKNOWN:{id:"QuestionAccordionBody.Unknown",defaultMessage:"Unknown"},IMAGE_AB:{id:"QuestionAccordionBody.ImageAB",defaultMessage:"Image A/B"},ICON_SMILEY_LABEL:{id:"QuestionAccordionBody.IconSmileyLabel",defaultMessage:"Smiley"},ICON_HEART_LABEL:{id:"QuestionAccordionBody.IconHeartLabel",defaultMessage:"Heart"},ICON_STAR_LABEL:{id:"QuestionAccordionBody.IconStarLabel",defaultMessage:"Star"},ICON_THUMB_LABEL:{id:"QuestionAccordionBody.IconThumbLabel",defaultMessage:"Thumbs Up"}}),oM=()=>(0,Q.jsxs)(K.SkeletonLoader,{animate:!0,backgroundColor:"#D0D2D3","data-testid":"QuestionAnswerOptionsLoadingSkeleton",children:[(0,Q.jsx)("rect",{x:"35",y:"10",rx:"5",ry:"5",width:"150",height:"10"}),(0,Q.jsx)("rect",{x:"35",y:"45",rx:"5",ry:"5",width:"150",height:"10"}),(0,Q.jsx)("rect",{x:"35",y:"80",rx:"5",ry:"5",width:"150",height:"10"}),(0,Q.jsx)("rect",{x:"35",y:"115",rx:"5",ry:"5",width:"150",height:"10"}),(0,Q.jsx)("rect",{x:"3",y:"5",rx:"4",ry:"4",width:"20",height:"20"}),(0,Q.jsx)("rect",{x:"3",y:"40",rx:"4",ry:"4",width:"20",height:"20"}),(0,Q.jsx)("rect",{x:"3",y:"75",rx:"4",ry:"4",width:"20",height:"20"}),(0,Q.jsx)("rect",{x:"3",y:"110",rx:"4",ry:"4",width:"20",height:"20"})]}),oR=()=>(0,Q.jsxs)(B.Box,{display:"flex",justifyContent:"flex-start",gap:4,children:[(0,Q.jsx)(B.Box,{flexItemGrow:!1,children:(0,Q.jsx)(z.IconError,{color:"error",title:(0,j.t)(iX.ERROR_ICON)})}),(0,Q.jsx)(G.Typography,{color:"darkMuted",variant:"bodySm",children:(0,Q.jsx)(j.T,{desc:oy.ANSWER_OPTION_LOAD_ERROR})})]}),oP=e=>{let{itemsToRender:t,showDefaultCount:n}=e;return(0,Q.jsxs)(Q.Fragment,{children:[t.length<=n&&t,t.length>n&&(0,Q.jsx)(H.s,{showAllLabel:(0,j.t)(oy.SHOW_ALL),showLessLabel:(0,j.t)(oy.SHOW_LESS),hiddenContent:t.slice(n),children:t.slice(0,n)})]})};var ob=Function.prototype,oL=ob.apply,oC=ob.call,ow="object"==typeof Reflect&&Reflect.apply||(eI?oC.bind(oL):function(){return oC.apply(oL,arguments)}),oj=Math.floor,oD=ex("".charAt),oB=ex("".replace),oG=ex("".slice),oQ=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,oU=/\$([$&'`]|\d{1,2})/g,ok=function(e,t,n,i,r,o){var a=n+e.length,s=i.length,l=oU;return void 0!==r&&(r=ti(r),l=oQ),oB(o,l,function(o,l){var d;switch(oD(l,0)){case"$":return"$";case"&":return e;case"`":return oG(t,0,n);case"'":return oG(t,a);case"<":d=r[oG(l,1,-1)];break;default:var u=+l;if(0===u)return o;if(u>s){var c=oj(u/10);if(0===c)return o;if(c<=s)return void 0===i[c-1]?oD(l,1):i[c-1]+oD(l,1);return o}d=i[u-1]}return void 0===d?"":d})},oW=tg("replace"),oz=Math.max,oF=Math.min,oX=ex([].concat),oK=ex([].push),oH=ex("".indexOf),oY=ex("".slice),oq="$0"==="a".replace(/./,"$0"),oZ=!!/./[oW]&&""===/./[oW]("a","$0");rW("replace",function(e,t,n){var i=oZ?"$":"$0";return[function(e,n){var i=ej(this),r=eC(e)?void 0:e5(e,oW);return r?eh(r,e,i,n):eh(t,rA(i),e,n)},function(e,r){var o=tM(this),a=rA(e);if("string"==typeof r&&-1===oH(r,i)&&-1===oH(r,"$<")){var s=n(t,o,a,r);if(s.done)return s.value}var l=eG(r);l||(r=rA(r));var d=o.global;d&&(I=o.unicode,o.lastIndex=0);for(var u=[];null!==(E=rZ(o,a))&&(oK(u,E),d);)""===rA(E[0])&&(o.lastIndex=rY(a,nA(o.lastIndex),I));for(var c="",p=0,g=0;g<u.length;g++){for(var A,I,E,h,f=rA((E=u[g])[0]),O=oz(oF(nu(E.index),a.length),0),S=[],T=1;T<E.length;T++)oK(S,void 0===(A=E[T])?A:String(A));var m=E.groups;if(l){var N=oX([f],S,O,a);void 0!==m&&oK(N,m),h=rA(ow(r,void 0,N))}else h=ok(f,a,O,S,m,r);O>=p&&(c+=oY(a,p,O)+h,p=O+f.length)}return c+oY(a,p)}]},!!eg(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})||!oq||oZ);var oV=tg("replace"),o$=TypeError,oJ=ex("".indexOf);ex("".replace);var o0=ex("".slice),o1=Math.max;nw({target:"String",proto:!0},{replaceAll:function(e,t){var n,i,r,o,a,s,l,d=ej(this),u=0,c=0,p="";if(!eC(e)){if(rj(e)&&!~oJ(rA(ej(oh(e))),"g"))throw new o$("`.replaceAll` does not allow non-global regexes");if(n=e5(e,oV))return eh(n,e,d,t)}for(i=rA(d),r=rA(e),(o=eG(t))||(t=rA(t)),s=o1(1,a=r.length),u=oJ(i,r);-1!==u;)l=o?rA(t(r,u,i)):ok(r,i,u,[],void 0,t),p+=o0(i,c,u)+l,c=u+a,u=u+s>i.length?-1:oJ(i,r,u+s);return c<i.length&&(p+=o0(i,c)),p}});let o2=({position:e,heading:t})=>`${(0,j.t)(iX.PAGE,{number:e})}${t?`: ${t}`:""}`,o5=(e,t)=>{if(!e)return null;let n=t?t.length+1:1;return{id:null==e?void 0:e.id,heading:null==e?void 0:e.heading,position:n}},o4=e=>{if(!(0,Y.valid)(e))return e;let t=e.replaceAll(/<iframe(.*?)<\/iframe>/g,`[${(0,j.t)(iX.MEDIA)}]`);return t=(t=t.replaceAll(/<img(.*?)>/g,`[${(0,j.t)(iX.IMAGE)}]`)).replaceAll(/<table(.|\r?\n|\r)*?<\/table>/g,`[${(0,j.t)(iX.TABLE)}]`),(0,Y.parse)(t).textContent.replace(/(\r?\n|\r)+/g," ")},o3=e=>{let{questionOptions:t,showDefaultCount:n,gap:i}=e,r=t.map(({id:e,label:t},n)=>(0,Q.jsx)(B.Box,Object.assign({},0!==n?{pt:i}:{},{children:(0,Q.jsx)(G.Typography,{color:"secondary",variant:"bodySm",children:o4(t)})}),e));return(0,Q.jsx)(oP,{itemsToRender:r,showDefaultCount:n})},o8=(0,U.createMemoStyles)(e=>{let{spacing:t}=e;return{qabMatrixOptionsStyles:{"& [class^=wrenchBox]:has(> button[class^= wrenchShowAllShowLessButton])":{paddingTop:t[1]}},qabNumberedOptionsBadgeFlexStyles:{flex:0},qabLogicBadgeFlexStyles:{flex:0},qabLogicTruncationWrapperStyles:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap"},qabLogicTruncationTextStyles:{overflow:"hidden",textOverflow:"ellipsis"}}}),o7=e=>{let{rows:t,columns:n,otherAnswers:i}=e,{qabMatrixOptionsStyles:r}=o8(),o=(e,t)=>(0,Q.jsxs)(B.Box,{element:"span",className:r,children:[t&&(0,Q.jsx)(G.Typography,{color:"secondary",variant:"bodySm",weight:"medium",children:(0,Q.jsx)(j.T,{desc:t})}),(0,Q.jsx)(o3,{questionOptions:e,showDefaultCount:3,gap:1})]});return(0,Q.jsxs)(B.Box,{element:"span",display:"flex",flexDirection:"column",gap:4,children:[o(t,oy.ROWS),o(n,oy.COLUMNS),o(i)]})},o6=e=>{let{rows:t}=e,{qabLogicBadgeFlexStyles:n}=o8(),i=t.map(({id:e,labels:t,logic:i},r)=>(0,Q.jsxs)(B.Box,Object.assign({element:"span",display:"flex",gap:1},0!==r?{pt:4}:{},{children:[(0,Q.jsx)(G.Typography,{variant:"bodySm",children:t.from===t.to?t.from:(0,j.t)(oy.SCORE_TO_SCORE,Object.assign({},t))}),i&&(0,Q.jsx)(B.Box,{className:n,children:(0,Q.jsx)(W.C,{color:i.type===ik.SKIP_TO_PAGE?"muted":"warning",children:(0,Q.jsx)(G.Typography,{variant:"caption",weight:"medium",children:i.page?(0,j.t)(oy[i.type],{number:i.page.position}):(0,j.t)(oy[i.type])})})})]}),e));return(0,Q.jsx)(B.Box,{children:(0,Q.jsx)(oP,{itemsToRender:i,showDefaultCount:5})})},o9=Object.freeze({SMILEY:(0,Q.jsx)(z.IconHappy,{title:(0,j.t)(oy.ICON_SMILEY_LABEL)}),HEART:(0,Q.jsx)(z.IconHeart,{title:(0,j.t)(oy.ICON_HEART_LABEL)}),STAR:(0,Q.jsx)(z.IconStar,{title:(0,j.t)(oy.ICON_STAR_LABEL)}),THUMB:(0,Q.jsx)(z.IconThumbsUp,{title:(0,j.t)(oy.ICON_THUMB_LABEL)})}),ae=e=>{let{rows:t,symbol:n,isActiveQuestion:i,activeAnswerIds:r}=e,{qabNumberedOptionsBadgeFlexStyles:o,qabLogicBadgeFlexStyles:a,qabLogicTruncationWrapperStyles:s,qabLogicTruncationTextStyles:l}=o8(),d=t.map(({id:e,label:t,logic:d},u)=>{var c;let p=i&&(null==r?void 0:r.includes(e));return(0,C.createElement)(B.Box,Object.assign({},0!==u?{pt:4}:{},{element:"span",display:"flex",gap:1,key:e}),(0,Q.jsx)(B.Box,{className:o,children:(0,Q.jsx)(W.C,{color:p?"success":"muted",children:(0,Q.jsx)(G.Typography,{variant:"caption",weight:"medium",children:(0,j.t)(oy.ANSWER_HEADING,{number:u+1})})})}),t?(0,Q.jsx)(B.Box,Object.assign({},d?{className:s}:{},{children:(0,Q.jsx)(G.Typography,{variant:"bodySm",children:(0,Q.jsx)(B.Box,Object.assign({},d?{className:l}:{},{children:o4(t)}))})})):n&&(0,Q.jsxs)(B.Box,{display:"flex",alignItems:"center",gap:1,children:[(0,Q.jsx)(G.Typography,{variant:"bodySm",children:u+1}),o9[n]]}),d&&(0,Q.jsx)(B.Box,{className:a,children:(0,Q.jsx)(W.C,{color:d.type===ik.SKIP_TO_PAGE?"muted":"warning",children:(0,Q.jsx)(G.Typography,{variant:"caption",weight:"medium",children:(0,j.t)(oy[d.type],{number:null==d||null==(c=d.page)?void 0:c.position})})})}))});return(0,Q.jsx)(B.Box,{element:"span",display:"flex",flexDirection:"column",children:(0,Q.jsx)(oP,{itemsToRender:d,showDefaultCount:5})})},at=e=>{let{questionSemanticType:t,labels:n}=e;return(0,Q.jsx)(G.Typography,{variant:"bodySm",color:"darkMuted",children:t===iB.SLIDER?(0,j.t)(oy.SLIDER_WITH_QUESTION,Object.assign({},n)):(0,j.t)(oy.THIS_IS_A_QUESTION,{questionType:(0,j.t)(oy[t])})})},an=e=>{let{assignments:t}=e,{qabNumberedOptionsBadgeFlexStyles:n}=o8(),i=t.map(({heading:e,variable:t},i)=>{let{id:r,percent:o}=t,{text:a}=e;return(0,C.createElement)(B.Box,Object.assign({},0!==i?{pt:4}:{},{element:"span",display:"flex",gap:1,key:r}),(0,Q.jsx)(B.Box,{className:n,children:(0,Q.jsx)(W.C,{children:(0,Q.jsxs)(G.Typography,{variant:"caption",weight:"medium",children:[o,"%"]})})}),(0,Q.jsx)(B.Box,{display:"flex",alignItems:"center",gap:1,children:(0,Q.jsx)(G.Typography,{variant:"bodySm",children:a})}))});return(0,Q.jsx)(B.Box,{element:"span",display:"flex",flexDirection:"column",children:(0,Q.jsx)(oP,{itemsToRender:i,showDefaultCount:5})})},ai=e=>{let{rows:t}=e;return(0,Q.jsx)(B.Box,{element:"span",children:(0,Q.jsx)(o3,{questionOptions:t,showDefaultCount:5,gap:4})})},ar=(0,j.defineMessages)({ADD_COMMENT:{id:"CommentBubble.AddComment",defaultMessage:"Add comment"},SHOW_COMMENTS:{id:"CommentBubble.ShowComments",defaultMessage:"Show comments"}}),ao=e=>{let{commentCount:t,onClick:n}=e;return(0,Q.jsx)(q.Af,{variant:"toggle",selected:!1,onClick:n,children:t>0?(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(z.IconComment,{title:(0,j.t)(ar.SHOW_COMMENTS)}),"\xa0",t]}):(0,Q.jsx)(z.IconCommentPlus,{title:(0,j.t)(ar.ADD_COMMENT)})})},aa=(e,t)=>{switch(e){case iB.CHECKBOX:case iB.DROPDOWN:case iB.MULTIPLE_CHOICE:return[...t.answers||[],...t.answerOther?[t.answerOther]:[],...t.answerNA?[t.answerNA]:[]];case iB.MATRIX_SINGLE_ANSWER:return t.answersWeighted||[];case iB.MATRIX_MANY_ANSWERS:return t.answers||[];case iB.NPS:case iB.STAR_RATING:return[...t.answersWeighted||[],...t.answerOther?[t.answerOther]:[],...t.answerNA?[t.answerNA]:[]];case iB.RANKING:return[...t.answers||[],...t.answerNA?[t.answerNA]:[]];default:return[]}},as=(e,t)=>{switch(e){case iB.MATRIX_SINGLE_ANSWER:return[...t.answerOther?[t.answerOther]:[],...t.answerNA?[t.answerNA]:[]];case iB.MATRIX_MANY_ANSWERS:return t.answerOther?[t.answerOther]:[];default:return[]}},al=(e,t)=>{switch(e){case iB.TEXT_AB_TEST:return t.heading.assignments||[];case iB.IMAGE_AB_TEST:{let e=t.heading.assignments;return e?e.map(e=>Object.assign({},e,{heading:Object.assign({},e.heading,{text:e.heading.text||`[${(0,j.t)(oy.IMAGE_AB)}]`})})):[]}default:return[]}},ad=(e,t)=>{if(e===iB.SLIDER){var n;return null==(n=t.scaleOptions)?void 0:n.labels}},au=e=>{switch(e){case iB.CHECKBOX:case iB.DROPDOWN:case iB.MULTIPLE_CHOICE:case iB.MATRIX_SINGLE_ANSWER:case iB.MATRIX_MANY_ANSWERS:case iB.NPS:case iB.RANKING:case iB.SLIDER:case iB.STAR_RATING:case iB.TEXT_AB_TEST:case iB.IMAGE_AB_TEST:return!0;default:return!1}},ac=(e,t)=>{switch(e){case ij.CLICK_MAP:return iB.CLICK_MAP;case ij.CONTACT_INFO:if(t===iD.NAME)return iB.NAME;if(t===iD.EMAIL)return iB.EMAIL;if(t===iD.PHONE)return iB.PHONE;if(t===iD.ADDRESS)return iB.ADDRESS;return iB.CONTACT_INFO;case ij.DATETIME:return iB.DATETIME;case ij.FILE_UPLOAD:return iB.FILE_UPLOAD;case ij.MATRIX:if(t===iD.SINGLE_ANSWER_RADIO)return iB.MATRIX_SINGLE_ANSWER;if(t===iD.MANY_ANSWERS_CHECKBOX)return iB.MATRIX_MANY_ANSWERS;if(t===iD.BEST_WORST)return iB.MATRIX_BEST_WORST;return iB.MATRIX_MENU;case ij.MULTIPLE_CHOICE:if(t===iD.SINGLE_ANSWER_MENU)return iB.DROPDOWN;if(t===iD.SINGLE_ANSWER_RADIO)return iB.MULTIPLE_CHOICE;if(t===iD.MANY_ANSWERS_CHECKBOX)return iB.CHECKBOX;return iB.IMAGE_CHOICE;case ij.OPEN_ENDED:if(t===iD.SINGLE_LINE)return iB.SINGLE_TEXTBOX;if(t===iD.ESSAY)return iB.COMMENT_BOX;return iB.MULTIPLE_TEXTBOX;case ij.PRESENTATION:if(t===iD.TEXT)return iB.TEXT;if(t===iD.TEXT_AB_TEST)return iB.TEXT_AB_TEST;if(t===iD.IMAGE_AB_TEST)return iB.IMAGE_AB_TEST;return iB.IMAGE;case ij.RANKING:return iB.RANKING;case ij.RATING_SCALE:if(t===iD.NPS)return iB.NPS;return iB.STAR_RATING;case ij.SLIDER:return iB.SLIDER;default:return iB.UNKNOWN}},ap=({name:e=Z.USER_EVENTS.ELEMENT_INTERACTION,data:t={}})=>{var n;null!=(n=window)&&null!=(n=n.SM)&&n.MetricsTracker&&window.SM.MetricsTracker.track({name:e,data:t})},ag=e=>{let{onCommentClick:t}=iY();return{onCommentClick:t,commentCount:iV()[e]}};var aA=(0,V.Ps)(i||(i=(e=>e)`
  query getSurveyQuestionAnswerOptions($questionId: ID!, $surveyId: ID!) @operate(as: GUEST) {
    surveyQuestionById(questionId: $questionId, surveyId: $surveyId) {
      id
      ...MatrixQuestionSingleAnswerQMFragment
      ...MatrixQuestionManyAnswersQMFragment
      ...MenuMatrixQuestionQMFragment
      ...MultipleChoiceQuestionQMFragment
      ...MultipleChoiceImageQuestionQMFragment
      ...RankingQuestionQMFragment
      ...RatingScaleQuestionQMFragment
      ...SliderQuestionQMFragment
      ...PresentationQuestionQMFragment
    }
  }

  fragment MatrixQuestionSingleAnswerQMFragment on MatrixQuestionSingleAnswerQM {
    answersWeighted {
      id
      label
      visible
      weight
    }
    answerOther {
      id
      label
      visible
    }
    answerNA {
      id
      label
      visible
    }
    fieldSets {
      id
      label
      visible
    }
  }

  fragment MatrixQuestionManyAnswersQMFragment on MatrixQuestionManyAnswersQM {
    answers {
      id
      label
      visible
    }
    answerOther {
      id
      label
      visible
    }
    fieldSets {
      id
      visible
      label
    }
  }

  fragment MenuMatrixQuestionQMFragment on MenuMatrixQuestionQM {
    answersNested {
      id
      label
      visible
    }
    answerOther {
      id
      label
      visible
    }
    fieldSets {
      id
      visible
      label
    }
  }

  fragment MultipleChoiceQuestionQMFragment on MultipleChoiceQuestionQM {
    answers {
      id
      label
      visible
    }
    answerOther {
      id
      label
      visible
    }
    answerNA {
      id
      label
      visible
    }
  }

  fragment MultipleChoiceImageQuestionQMFragment on MultipleChoiceImageQuestionQM {
    answersImage {
      id
      label
      visible
    }
    answerNA {
      id
      label
      visible
    }
  }

  fragment RankingQuestionQMFragment on RankingQuestionQM {
    answers {
      id
      label
      visible
    }
    answerNA {
      id
      label
      visible
    }
  }

  fragment RatingScaleQuestionQMFragment on RatingScaleQuestionQM {
    answersWeighted {
      id
      label
      visible
      weight
    }
    answerOther {
      id
      label
      visible
    }
    answerNA {
      id
      visible
      label
    }
    symbolOptions {
      symbol
    }
  }

  fragment SliderQuestionQMFragment on SliderQuestionQM {
    scaleOptions {
      labels {
        left
        right
        middle
      }
    }
  }

  fragment PresentationQuestionQMFragment on PresentationQuestionQM {
    heading {
      assignments {
        heading {
          text
        }
        variable {
          id
          percent
        }
      }
    }
  }
`));function aI(e){let t=(0,C.useRef)();return(0,C.useEffect)(()=>{t.current=e},[e]),t.current}let aE=(e,t,n)=>{let i=aI(e),[r,o]=(0,C.useState)(null),[a,s]=(0,C.useState)(!1),l=rn(),[d,{data:u,loading:c,error:p,refetch:g}]=(0,w.useLazyQuery)(aA,{fetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0,variables:{surveyId:l.id,questionId:n.id},ssr:!1});return(0,C.useEffect)(()=>{e&&a&&g&&(g(),s(!1))},[e,g,a]),e&&!i&&(!au(t)||aa(t,n).length>0||al(t,n).length>0||Object.keys(ad(t,n)||{}).length>0||d()),p&&!a&&s(!0),u&&null===r&&o(u.surveyQuestionById),{answerOptions:r,loading:c,error:p}},ah=["isPreview"],af=e=>{let{expanded:t,question:n,onToggle:i,activeAnswers:r,activeQuestionId:o}=e,{family:a,variant:s}=n,l=ac(a,s),{onCommentClick:d,commentCount:u}=ag(n.id),c=i0(),p=i5(),g=i8(),A=i9(),{onGuestSessionExpired:I}=iY(),E=(0,C.useMemo)(()=>r5(c,n,{questionsContext:A}),[c,A,n]),h=(0,C.useMemo)(()=>Object.keys(E).some(e=>E[e].show),[E]),{answerOptions:f,loading:O,error:S}=aE(t,l,n);if(S){var T;let e=null==S||null==(T=S.networkError)||null==(T=T.result)||null==(T=T.errors)||null==(T=T[0])||null==(T=T.extensions)?void 0:T.code;null!=e&&e.includes("FORBIDDEN")&&(null==I||I())}return(0,C.useEffect)(()=>{h&&!t&&i(n.id,!0)},[]),(0,Q.jsx)(F.b,{addOnHover:(0,Q.jsx)(ao,{commentCount:u,onClick:()=>null==d?void 0:d(n.id)}),addOnIcons:(()=>{let e=Object.keys(E),t=1===e.filter(e=>E[e].show).length;return e.map(e=>{let n=E[e];return n.show?(0,Q.jsx)(ox,{logicType:e,options:null==n?void 0:n.options,verbose:t},e):null})})(),addOnIconsPlacement:"bottom",enableHoverBackground:!0,expanded:t,expandAccordionIconLabel:(0,j.t)(iX.EXPAND_QUESTION),collapseAccordionIconLabel:(0,j.t)(iX.COLLAPSE_QUESTION),id:`question-accordion-${n.id}`,header:(0,Q.jsxs)(G.Typography,{id:`question-${n.id}`,variant:"bodySm",children:[(0,Q.jsxs)("strong",{children:[(e=>{var t;switch(l){case iB.IMAGE_AB_TEST:return(0,j.t)(oy[iB.IMAGE]);case iB.TEXT_AB_TEST:return(0,j.t)(oy[iB.TEXT]);default:return(0,j.t)(oy.QUESTION_HEADING,{number:null==e||null==(t=e.position)?void 0:t.label})}})(n),":\xa0"]}),(e=>{var t;switch(l){case iB.IMAGE_AB_TEST:case iB.TEXT_AB_TEST:return(0,j.t)(oy.THIS_IS_A_QUESTION,{questionType:(0,j.t)(oy[l])});default:return o4(null==e||null==(t=e.heading)?void 0:t.default.text)}})(n)]}),onChange:()=>{let{isPreview:e}=p,r=el(p,ah);e&&ap({data:Object.assign({},r,{amplitudeEvent:iW,ctaName:t?iz.COLLAPSE_QUESTION:iz.EXPAND_QUESTION,questionNum:n.position.label})}),i(n.id)},truncateNumberOfLines:2,children:(0,Q.jsx)(F.b.Item,{children:O?(0,Q.jsx)(oM,{}):(e=>{if(S&&null===f)return(0,Q.jsx)(oR,{});switch(l){case iB.DROPDOWN:case iB.CHECKBOX:case iB.MULTIPLE_CHOICE:{let t=aa(l,e);return E[iQ.SIMPLE_SKIP].show&&(t=r0(c.SIMPLE_SKIP,t,{pageContext:g})),(0,Q.jsx)(ae,{rows:t,isActiveQuestion:o===e.id,activeAnswerIds:r?r[e.id]:[]})}case iB.MATRIX_SINGLE_ANSWER:case iB.MATRIX_MANY_ANSWERS:return(0,Q.jsx)(o7,{rows:e.fieldSets||[],columns:aa(l,e),otherAnswers:as(l,e)});case iB.NPS:if(E[iQ.SIMPLE_SKIP].show){let t=r0(null==c?void 0:c.SIMPLE_SKIP,aa(l,e),{pageContext:g});return(0,Q.jsx)(o6,{rows:r2(t)})}return(0,Q.jsx)(at,{questionSemanticType:l});case iB.RANKING:return(0,Q.jsx)(ai,{rows:aa(l,e)});case iB.STAR_RATING:{var t;let n=aa(l,e);return E[iQ.SIMPLE_SKIP].show&&(n=r0(null==c?void 0:c.SIMPLE_SKIP,n,{pageContext:g})),(0,Q.jsx)(ae,{rows:n,isActiveQuestion:o===e.id,activeAnswerIds:r?r[e.id]:[],symbol:null==e||null==(t=e.symbolOptions)?void 0:t.symbol})}case iB.SLIDER:return(0,Q.jsx)(at,{questionSemanticType:l,labels:ad(l,e)});case iB.TEXT_AB_TEST:case iB.IMAGE_AB_TEST:{let t=al(l,e);return(0,Q.jsx)(an,{assignments:t})}default:return(0,Q.jsx)(at,{questionSemanticType:l})}})(Object.assign({},n,null!=f?f:{}))})})};af.displayName="AccordionTree";let aO=(0,U.createMemoStyles)(e=>{let{elevation:t,motion:n,spacing:i}=e;return{staticQuestion:{paddingTop:i[3],paddingBottom:i[3],paddingRight:i[3],marginTop:-1*i[2],marginBottom:-1*i[2],marginRight:-1*i[4]},staticQuestionOnHover:{position:"absolute",right:0,top:"auto",bottom:"100%",zIndex:t.sky,transform:"translate(-50%, 50%)",transition:({isHovering:e})=>e?`transform 250ms ${n.curve.enter}, opacity 50ms linear 50ms`:"all 0s ease 0s","& button":{borderRadius:"4px"}}}}),aS=({question:e,questionSemanticType:t})=>{var n,i;let[r,o]=(0,C.useState)(!1),{staticQuestion:a,staticQuestionOnHover:s}=aO({isHovering:r}),{onCommentClick:l,commentCount:d}=ag(e.id),u=()=>{o(!0)},c=e=>{e.currentTarget.contains(e.relatedTarget)||o(!1)},p=t===iB.IMAGE?o4(null==e||null==(n=e.heading)?void 0:n.default.text)||`[${(0,j.t)(oy[t])}]`:o4(null==e||null==(i=e.heading)?void 0:i.default.text);return(0,Q.jsxs)("div",{onMouseOver:u,onMouseLeave:()=>{o(!1)},onFocus:u,onBlur:e=>c(e),id:`question-accordion-${e.id}`,className:a,role:"region",tabIndex:0,children:[(0,Q.jsxs)(G.Typography,{variant:"bodySm",children:[(0,Q.jsxs)("strong",{children:[(0,j.t)(oy[t]),":\xa0"]}),p]}),r&&(0,Q.jsx)("div",{className:s,children:(0,Q.jsx)(ao,{commentCount:d,onClick:()=>null==l?void 0:l(e.id)})})]})},aT=(e,t)=>{let n={};return null==e||e.forEach(e=>{n[e.id]=Object.assign({expand:(null==t?void 0:t.defaultExpandValue)||!1},(null==t?void 0:t.hasShowInMap)&&{show:!0})}),n},am=["isPreview"],aN=e=>{var t;let{activeQuestion:n,activeAnswers:i,expanded:r,onToggle:o,page:a,editLink:s,settings:l}=e,{id:d,heading:u,position:c,questionsQM:p}=a,{isAdvancedBranchingEnabled:g}=l,A=i0(),I=i5(),E=i8(),h=i9(),f=aI(n),O=(0,C.useMemo)(()=>r6({logicContext:A,pageContext:E,questionsContext:h,page:a,isAdvancedBranchingEnabled:g}),[A,E,h,a,g]),[S,T]=(0,C.useState)(aT(null==p?void 0:p.items)),m=(e,t)=>{T(n=>{var i;return Object.assign({},n,{[e]:{expand:null!=t?t:!(null!=(i=n[e])&&i.expand)}})})};return null!=n&&n.id&&n.id!==(null==f?void 0:f.id)&&n.id in S&&!(null!=(t=S[n.id])&&t.expand)&&m(n.id,!0),(0,Q.jsx)(F.b,{expanded:r,onChange:()=>{let{isPreview:e}=I,t=el(I,am);if(e){var n;ap({data:Object.assign({},t,{amplitudeEvent:iW,ctaName:r?iz.COLLAPSE_PAGE:iz.EXPAND_PAGE,pageNumber:[null==(n=E[d])?void 0:n.position]})})}o(d)},id:`page-accordion-${d}`,noRule:!1,expandAccordionIconLabel:(0,j.t)(iX.EXPAND_PAGE),collapseAccordionIconLabel:(0,j.t)(iX.COLLAPSE_PAGE),header:(0,Q.jsx)(G.Typography,{variant:"bodySm",weight:"medium",children:o2({position:c,heading:o4(u)})}),addOnIcons:Object.keys(O).map(e=>{var t;let n=O[e];return n.show&&(0,Q.jsx)(ox,{logicType:e,options:Object.assign({},null!=(t=null==n?void 0:n.options)?t:{},{editLink:s})},e)}),children:null==p?void 0:p.items.map(e=>{var t,r;let o=ac(e.family,e.variant);return(0,Q.jsx)(F.b.Item,Object.assign({},(null==n?void 0:n.id)===e.id?{marked:!0}:{},{children:o in iG?(0,Q.jsx)(aS,{question:e,questionSemanticType:o}):(0,Q.jsx)(af,{expanded:null==(t=S[e.id])?void 0:t.expand,onToggle:m,question:e,activeAnswers:i,activeQuestionId:null!=(r=null==n?void 0:n.id)?r:""})}),e.id)})})},a_=(0,et.QM)(({palette:e,spacing:t})=>({panelSelector:()=>({"& ::placeholder":{color:e.text.dark},"& svg":{position:"absolute",top:t[3],right:t[4],pointerEvents:"none"}}),menuWrapper:()=>({"& [class^=wrenchMenu]":{width:"100%"}})})),av=["isPreview"],ax=(0,j.defineMessages)({ALL:{id:"PageSelector.all",defaultMessage:"Showing all pages"},SELECTED_PAGES:{id:"PageSelector.selectedPages",defaultMessage:"Showing {selectedCount} of {pageCount} pages"},PAGE_SELECTOR_ALT:{id:"PageSelector.pageSelectorAlt",defaultMessage:"Select survey pages"}}),ay=({pages:e,defaultSelectedPages:t,onChange:n})=>{let[i,r]=(0,C.useState)(t),o=(0,C.useMemo)(()=>i.filter(Boolean).length,[i]),a=i5(),{panelSelector:s,menuWrapper:l}=a_(),d=o===e.length?(0,j.t)(ax.ALL):(0,j.t)(ax.SELECTED_PAGES,{selectedCount:o,pageCount:e.length}),u=(e,t)=>{r(n=>{let i=[...n];return i[e]=!t,i})};return(0,Q.jsx)(B.Box,{className:l,children:(0,Q.jsx)(J.Menu,{id:"page-selector",menuTrigger:(0,Q.jsxs)("div",{className:s,children:[(0,Q.jsx)(ee.I,{placeholder:d,id:"page-selector-input",readOnly:!0,stretched:!0}),(0,Q.jsx)(z.IconCaretDown,{title:(0,j.t)(ax.PAGE_SELECTOR_ALT)})]}),autoClose:!1,onChange:()=>{let r=i.map((e,n)=>e!==t[n]),o=e.filter((e,t)=>r[t]).map(e=>e.id);if(o.length>0){let{isPreview:e}=a,t=el(a,av);if(e){let e=i.map((e,t)=>e?t+1:-1).filter(e=>-1!==e);ap({data:Object.assign({},t,{amplitudeEvent:iW,ctaName:iz.PAGE_SELECTED,pageNumber:e})})}}n(o)},noRules:!0,stretched:!0,children:e.map(({id:e,position:t,heading:n},r)=>{let o=i[r];return(0,Q.jsx)(J.Menu.Item,{onClick:()=>u(r,o),addOn:(0,Q.jsx)($.X,{id:e,checked:i[r]}),children:o2({position:t,heading:o4(n)})},e)})})})},aM=["isPreview"],aR=(0,j.defineMessages)({PAYMENT_PAGE:{id:"PaymentAccordion.PaymentPage",defaultMessage:"This is a Payment page"}}),aP=e=>{let{expanded:t,paymentPage:n,onToggle:i}=e,r=i5();return(0,Q.jsx)(F.b,{expanded:t,id:"page-accordion-payment",enableHoverBackground:!0,truncateNumberOfLines:2,onChange:()=>{let{isPreview:e}=r,o=el(r,aM);e&&ap({data:Object.assign({},o,{amplitudeEvent:iW,ctaName:t?iz.COLLAPSE_PAGE:iz.EXPAND_PAGE,pageNumber:[n.position]})}),i(n.id)},expandAccordionIconLabel:(0,j.t)(iX.EXPAND_PAGE),collapseAccordionIconLabel:(0,j.t)(iX.COLLAPSE_PAGE),header:(0,Q.jsx)(G.Typography,{variant:"bodySm",weight:"medium",children:o2({position:n.position,heading:o4(n.heading)})}),children:(0,Q.jsx)(F.b.Item,{children:(0,Q.jsx)(G.Typography,{variant:"bodySm",color:"darkMuted",children:(0,Q.jsx)(j.T,{desc:aR.PAYMENT_PAGE})})})})},ab=(0,et.QM)(({palette:e,spacing:t,border:n})=>({randomizationBanner:()=>({backgroundColor:e.background.main,padding:t[4],borderBottom:n.main})})),aL=(0,j.defineMessages)({RANDOMIZATION_BANNER_TEXT:{id:"RandomizationBanner.RandomizationBannerText",defaultMessage:'<span id="strongRandomizationText">Randomization</span> applied to survey. Questions, answers, and/or pages appear in random order.'}}),aC=()=>{let{randomizationBanner:e}=ab();return(0,Q.jsxs)(B.Box,{className:e,display:"inline-block",children:[(0,Q.jsx)(W.C,{color:"info",children:(0,Q.jsx)(z.IconShuffle,{size:"md",title:(0,j.t)(iX.SHUFFLE_ICON)})}),(0,Q.jsx)(B.Box,{element:"span",ml:1,children:(0,Q.jsx)(G.Typography,{variant:"bodySm",component:"span",children:(0,j.t)(aL.RANDOMIZATION_BANNER_TEXT,{strongRandomizationText:({children:e})=>(0,Q.jsx)(G.Typography,{variant:"bodySm",weight:"medium",component:"span",children:e})})})})]})};var aw="	\n\v\f\r \xa0              　\u2028\u2029\uFEFF",aj=ex("".replace),aD=RegExp("^["+aw+"]+"),aB=RegExp("(^|[^"+aw+"])["+aw+"]+$"),aG=function(e){return function(t){var n=rA(ej(t));return 1&e&&(n=aj(n,aD,"")),2&e&&(n=aj(n,aB,"$1")),n}},aQ={start:aG(1),end:aG(2),trim:aG(3)}.trim,aU=ec.parseInt,ak=ec.Symbol,aW=ak&&ak.iterator,az=/^[+-]?0x/i,aF=ex(az.exec),aX=8!==aU(aw+"08")||22!==aU(aw+"0x16")||aW&&!eg(function(){aU(Object(aW))})?function(e,t){var n=aQ(rA(e));return aU(n,t>>>0||(aF(az,n)?16:10))}:aU;nw({global:!0,forced:parseInt!==aX},{parseInt:aX});let aK=(0,U.createMemoStyles)(e=>({wrenchInlineSheetWrapper:({overflowYHidden:e})=>({width:"100%",height:"100%",overflowY:e?"hidden":void 0})})),aH=({overflowYHidden:e,children:t})=>{let{wrenchInlineSheetWrapper:n}=aK({overflowYHidden:e});return(0,Q.jsx)(B.Box,{display:"flex",alignItems:"stretch",className:n,"data-testid":"ResizeInlineSheetWrapper",children:t})};aH.defaultProps={overflowYHidden:!1,children:null};let aY=(0,j.defineMessages)({CLOSE_SHEET_DEFAULT:{id:"ResizableInlineSheet.CloseSheetDefault",defaultMessage:"Close sheet"},OPEN_SHEET_DEFAULT:{id:"ResizableInlineSheet.OpenSheetDefault",defaultMessage:"Open sheet"},COLLAPSE_ICON:{id:"ResizableInlineSheet.CollapseIcon",defaultMessage:"Collapse icon"},EXPAND_ICON:{id:"ResizableInlineSheet.ExpandIcon",defaultMessage:"Expand icon"},CLOSE_ICON:{id:"ResizableInlineSheet.CloseIcon",defaultMessage:"Close icon"}}),aq=(0,U.createMemoStyles)({wrenchInlineSheetButton:{position:"absolute",right:"16px",top:"16px"}}),aZ=({show:e,showCollapsedSheet:t,showCloseButton:n,onToggle:i,closeButtonLabel:r,openButtonLabel:o})=>{let a;let{wrenchInlineSheetButton:s}=aq();return n?(a=t?e?(0,Q.jsx)(z.IconOpenMinimizeRight,{size:"md",title:(0,j.t)(aY.COLLAPSE_ICON)}):(0,Q.jsx)(z.IconOpenMinimizeLeft,{size:"md",title:(0,j.t)(aY.EXPAND_ICON)}):(0,Q.jsx)(z.IconX,{size:"md",title:(0,j.t)(aY.CLOSE_ICON)}),(0,Q.jsx)("div",{className:s,children:(0,Q.jsx)(eo.Button,{variant:"text",color:"alt",size:"sm",label:e?r:o,title:e?r:o,onClick:()=>null==i?void 0:i(!e),children:a})})):null},aV={sm:"360px",md:"420px",lg:"640px"},a$=(e,t,n=!1)=>{let i=`${t} 450ms ${e?"cubic-bezier(0, 0, 0, 1)":"cubic-bezier(0.2, 0, 0.1, 1)"}`;return n?`${i}, opacity 200ms linear`:i},aJ=(e,t,n)=>n?t:e?aV[e]:aV.sm,a0=e=>e?"64px":"0px",a1=(0,U.createMemoStyles)(e=>{let{palette:t}=e;return{wrenchInlineSheetContainer:{overflow:"clip",flexShrink:0,flexGrow:0,background:"white",borderLeft:`1px solid ${t.border.muted}`,position:"relative"},wrenchInlineSheetContainerEnter:({showCollapsedSheet:e})=>({width:a0(e)}),wrenchInlineSheetContainerEnterActive:({size:e,width:t,resizable:n})=>({transition:a$(!0,"width",!1),width:aJ(e,t,n)}),wrenchInlineSheetContainerExit:({size:e,width:t,resizable:n})=>({width:aJ(e,t,n)}),wrenchInlineSheetContainerExitActive:({showCollapsedSheet:e})=>({transition:a$(!1,"width",!1),width:a0(e)}),wrenchInlineSheetContainerExitDone:({showCollapsedSheet:e})=>({width:a0(e)}),wrenchInlineSheet:({size:e,width:t,resizable:n})=>({width:aJ(e,t,n),height:"100%"}),wrenchInlineSheetEnter:{opacity:0},wrenchInlineSheetEnterActive:{transition:a$(!0,"transform",!0),opacity:1},wrenchInlineSheetEnterDone:{opacity:1},wrenchInlineSheetExit:{opacity:1},wrenchInlineSheetExitActive:{transition:a$(!1,"transform",!0),opacity:0},wrenchInlineSheetExitDone:{opacity:0},wrenchInlineSheetInnerWrapper:{height:"100%","& > [class^=wrenchSheetBody]":{scrollbarWidth:"none","-ms-overflow-style":"none","&::-webkit-scrollbar":{display:"none"}}}}}),a2=({resizable:e=!0,show:t=!1,size:n="sm",showCollapsedSheet:i,showCloseButton:r=!1,closeButtonLabel:o=(0,j.t)(aY.CLOSE_SHEET_DEFAULT),openButtonLabel:a=(0,j.t)(aY.OPEN_SHEET_DEFAULT),onToggle:s,children:l})=>{let[d,u]=(0,C.useState)(aV[n]),{wrenchInlineSheetContainer:c,wrenchInlineSheetContainerEnter:p,wrenchInlineSheetContainerEnterActive:g,wrenchInlineSheetContainerExit:A,wrenchInlineSheetContainerExitActive:I,wrenchInlineSheetContainerExitDone:E,wrenchInlineSheet:h,wrenchInlineSheetEnter:f,wrenchInlineSheetEnterActive:O,wrenchInlineSheetEnterDone:S,wrenchInlineSheetExit:T,wrenchInlineSheetExitActive:m,wrenchInlineSheetExitDone:N,wrenchInlineSheetInnerWrapper:_}=a1({size:n,resizable:e,width:d,showCollapsedSheet:i});return(0,Q.jsx)(ei.Z,{className:c,classNames:{enter:p,enterActive:g,exit:A,exitActive:I,exitDone:E},in:t,timeout:450,children:(0,Q.jsxs)("div",{children:[(0,Q.jsx)(ei.Z,{mountOnEnter:!0,className:h,classNames:{enter:f,enterActive:O,enterDone:S,exit:T,exitActive:m,exitDone:N},timeout:450,in:t,children:(()=>{let t=(0,Q.jsx)(B.Box,{className:_,display:"flex",flexDirection:"column",children:l});return e?(0,Q.jsx)(er.e,{size:{width:d,height:"100%"},onResizeStop:(e,t,n,i)=>{u(`${parseInt(d,10)+i.width}px`)},minWidth:aV.sm,maxWidth:aV.lg,"data-testid":"ResizableInlineSheet__Resizable",children:t}):t})()}),(0,Q.jsx)(aZ,{show:t,onToggle:s,showCollapsedSheet:i,showCloseButton:r,closeButtonLabel:o,openButtonLabel:a})]})})};a2.Wrapper=aH;let a5=["openButtonLabel","showCollapsedSheet","responsive","onToggle"],a4=e=>{if(!e.responsive)return(0,Q.jsx)(a2,Object.assign({},e));let t="lg"===e.size?"xl":"lg",{onToggle:n}=e,i=el(e,a5);return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(en.Responsive,{maxWidth:t,render:()=>(0,Q.jsx)(D.Sheet,Object.assign({},i,{onClose:()=>null==n?void 0:n(!1),"data-testid":"InlineSheet"}))}),(0,Q.jsx)(en.Responsive,{minWidth:t,render:()=>(0,Q.jsx)(a2,Object.assign({},e))})]})};a4.Wrapper=aH;let a3=(0,U.createMemoStyles)(e=>{let{spacing:t,border:n}=e;return{SOPPageAccordionsWrapper:{marginTop:-1*t[4],marginLeft:-1*t[5],marginRight:-1*t[5],"& > [id^=page-accordion-]":{"& > [class^=wrenchAccordionTreeItem]":{marginTop:t[4],"& [id^=question-accordion-]":{scrollMarginTop:`${t[8]}px`},"& [class^=wrenchAccordionTreeAddOnHover] button":{borderRadius:"4px"}}},"& #page-accordion-payment":{"& [class^=wrenchAccordionTreeAddOnHover] button":{borderRadius:"4px"}}},SOPHeader:{marginLeft:-1*t[2],marginRight:-1*t[2]},SOPHeaderWrapper:{"& [class^=wrenchSheetHeader]":{borderBottom:n.main}}}}),a8=["isPreview"],a7=["isPreview"],a6=({activeQuestion:e,activeAnswers:t,comments:n,metricsMetadata:i,onCommentClick:r,onGuestSessionExpired:o,onOpenCloseClick:a,resizable:s=!0,show:l,survey:d,settings:u})=>{var c,p,g,A,I,E,h,f;let{SOPPageAccordionsWrapper:O,SOPHeader:S,SOPHeaderWrapper:T}=a3(),m=o5(null==d?void 0:d.paymentPage,null==d||null==(c=d.pages)?void 0:c.items),N=[...null!=(p=null==d||null==(g=d.pages)?void 0:g.items)?p:[],...m?[m]:[]],[_,v]=(0,C.useState)(aT(N,{defaultExpandValue:!0,hasShowInMap:!0})),x=(0,C.useMemo)(()=>ot(d),[d]),y=(null!=(A=null==d||null==(I=d.pages)?void 0:I.totalCount)?A:0)>100,M=oo(d).length>0,R=(e,t)=>{v(n=>{var i;return Object.assign({},n,{[e]:Object.assign({},n[e],{expand:null!=t?t:!(null!=(i=n[e])&&i.expand)})})})};return(0,Q.jsx)(od,{values:{actions:{onCommentClick:e=>{let{isPreview:t}=i,n=el(i,a7);t&&ap({data:Object.assign({},n,{amplitudeEvent:iW,ctaName:iz.OPEN_COMMENT_PANEL})}),r(e)},onGuestSessionExpired:o},comments:n,metricsMetadata:i,survey:d},children:(0,Q.jsxs)(a4,{show:l,size:"sm",onToggle:()=>{let{isPreview:e}=i,t=el(i,a8);e&&ap({data:Object.assign({},t,{amplitudeEvent:iW,ctaName:l?iz.COLLAPSE_PANEL:iz.EXPAND_PANEL})}),a()},showCollapsedSheet:!0,showCloseButton:!0,closeButtonLabel:(0,j.t)(iX.COLLAPSE_PANEL),openButtonLabel:(0,j.t)(iX.EXPAND_PANEL),resizable:s,children:[(0,Q.jsx)(B.Box,{className:T,children:(0,Q.jsx)(D.Sheet.Header,{header:(0,Q.jsxs)(B.Box,{className:S,display:"grid",gap:3,children:[(0,Q.jsx)(G.Typography,{weight:"medium",lineHeight:2,children:(0,Q.jsx)(j.T,{desc:iX.SURVEY_OVERVIEW})}),!y&&N&&(0,Q.jsx)(ay,{pages:N,defaultSelectedPages:N.map(e=>!!_[e.id].show),onChange:e=>{let t=Object.assign({},_);e.forEach(e=>{var n;t[e]=Object.assign({},t[e],{show:!(null!=(n=t[e])&&n.show)})}),v(t)}})]})})}),(0,Q.jsx)(D.Sheet.Body,{children:y?(0,Q.jsx)(op,{}):(0,Q.jsxs)("div",{className:O,children:[x&&(0,Q.jsx)(aC,{}),M&&(0,Q.jsx)(oI,{}),null==d||null==(E=d.pages)||null==(E=E.items)?void 0:E.map(n=>{var i,r,o,a,s;return(null==(i=_[n.id])?void 0:i.show)&&(0,Q.jsx)(aN,{activeQuestion:null!=(r=_[n.id])&&r.expand?e:null,activeAnswers:t,expanded:null==(o=_[n.id])?void 0:o.expand,onToggle:R,page:n,editLink:null!=(a=null==d||null==(s=d.links)?void 0:s.edit)?a:"#",settings:u},n.id)}),m&&(null==(h=_[m.id])?void 0:h.show)&&(0,Q.jsx)(aP,{expanded:null==(f=_[m.id])?void 0:f.expand,onToggle:R,paymentPage:m},m.id)]})})]})})};a6.Wrapper=a4.Wrapper;let a9=e=>{if(!e.graphQLUri)throw Error("GraphQL Uri not provided");return es()({uri:e.graphQLUri,cacheHydration:{},pageRequestId:e.pageRequestId,linkOptions:{credentials:"include",batchInterval:30},metadata:{appName:e.appName,appVersion:e.appVersion},availableLoggedOutPaths:[]})},se=["includeApolloClient","apolloClientConfig"],st=e=>{let{includeApolloClient:t,apolloClientConfig:n}=e,i=el(e,se),r=(0,Q.jsx)(a6,Object.assign({},i));if(t&&n){let e=a9(n);return(0,Q.jsx)(w.ApolloProvider,{client:e,children:r})}return r}}}]);
//# sourceMappingURL=694b5bdb-cffe78e90ea387a3.js.map